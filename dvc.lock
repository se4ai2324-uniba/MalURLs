schema: '2.0'
stages:
  make_dataset:
    cmd: python src/data/make_dataset.py
    deps:
    - path: data/urls_with_features.csv
      hash: md5
      md5: 0e2218eb4420dd4992701e48ba59c972
      size: 3165487
    - path: src/data/make_dataset.py
      hash: md5
      md5: 60206638c903696890c2776593751058
      size: 1109
    outs:
    - path: data/urls_with_features_selected.csv
      hash: md5
      md5: 0448ad8c9f4e552dfe740d580da74504
      size: 730854
  build_features:
    cmd: python src/features/build_features.py
    deps:
    - path: data/urls_with_features_selected.csv
      hash: md5
      md5: 0448ad8c9f4e552dfe740d580da74504
      size: 730854
    - path: src/features/build_features.py
      hash: md5
      md5: 143cec654560aca16bb5ac766c580a59
      size: 1714
    outs:
    - path: data/test.csv
      hash: md5
      md5: 5199baa9aa06871a25c3639bb6e4873c
      size: 642401
    - path: data/train.csv
      hash: md5
      md5: b124c02b39328021828fe8a17727d0c9
      size: 2565327
  train_base_model:
    cmd:
    - python src/models/train_base_model.py
    deps:
    - path: data/train.csv
      hash: md5
      md5: b124c02b39328021828fe8a17727d0c9
      size: 2565327
    - path: src/models/train_base_model.py
      hash: md5
      md5: 9663eeef47f9cd136bd79cb03054fe49
      size: 1471
    - path: src/models/utils.py
      hash: md5
      md5: 86c9055fb54ac2dc222ef4c4512d8b0e
      size: 1718
    outs:
    - path: models/base_rf_model.pkl
      hash: md5
      md5: d141c79da310be2e3ded5ab8236d42d6
      size: 30782445
  train_tuned_model:
    cmd:
    - python src/models/train_tuned_model.py
    deps:
    - path: data/train.csv
      hash: md5
      md5: b124c02b39328021828fe8a17727d0c9
      size: 2565327
    - path: src/models/train_tuned_model.py
      hash: md5
      md5: 0e2dd488e85a330227cd3e8c1eb7a939
      size: 1797
    - path: src/models/utils.py
      hash: md5
      md5: 86c9055fb54ac2dc222ef4c4512d8b0e
      size: 1718
    outs:
    - path: models/tuned_rf_model.pkl
      hash: md5
      md5: c6fcb006c533c3dcda73a66ee7c310f3
      size: 703178515
  predict:
    cmd:
    - python src/models/predict.py
    deps:
    - path: data/test.csv
      hash: md5
      md5: 5199baa9aa06871a25c3639bb6e4873c
      size: 642401
    - path: models/base_rf_model.pkl
      hash: md5
      md5: d141c79da310be2e3ded5ab8236d42d6
      size: 30782445
    - path: models/tuned_rf_model.pkl
      hash: md5
      md5: c6fcb006c533c3dcda73a66ee7c310f3
      size: 703178515
    - path: src/models/predict.py
      hash: md5
      md5: 422b5f22679fcc6ce1e308524a508457
      size: 4037
    - path: src/models/utils.py
      hash: md5
      md5: 86c9055fb54ac2dc222ef4c4512d8b0e
      size: 1718
    outs:
    - path: reports/classification_report_base_rf.json
      hash: md5
      md5: 3e351d149cd8d4703473851fd9c4564d
      size: 679
    - path: reports/classification_report_tuned_rf.json
      hash: md5
      md5: 03fd71c59b041f0186cd06656337d390
      size: 682
    - path: reports/confusion_matrix_base_rf.json
      hash: md5
      md5: 5bd49e3e36e33ae371bc1b67744c363c
      size: 155
    - path: reports/confusion_matrix_tuned_rf.json
      hash: md5
      md5: dbc87ab3f9cac0c5842df840ce83877a
      size: 155
