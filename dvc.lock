schema: '2.0'
stages:
  make_dataset:
    cmd: python src/data/make_dataset.py
    deps:
    - path: data/urls_with_features.csv
      hash: md5
      md5: 0e2218eb4420dd4992701e48ba59c972
      size: 3165487
    - path: src/data/make_dataset.py
      hash: md5
      md5: bbd0fff655625b77636802f070da81f5
      size: 1142
    outs:
    - path: data/urls_with_features_selected.csv
      hash: md5
      md5: 0448ad8c9f4e552dfe740d580da74504
      size: 730854
  build_features:
    cmd: python src/features/build_features.py
    deps:
    - path: data/urls_with_features_selected.csv
      hash: md5
      md5: 0448ad8c9f4e552dfe740d580da74504
      size: 730854
    - path: src/features/build_features.py
      hash: md5
      md5: b30e12524610fef58f35c62910bfd4d0
      size: 1722
    outs:
    - path: data/test.csv
      hash: md5
      md5: 5199baa9aa06871a25c3639bb6e4873c
      size: 642401
    - path: data/train.csv
      hash: md5
      md5: b124c02b39328021828fe8a17727d0c9
      size: 2565327
  train_model:
    cmd:
    - python src/models/train_base_model.py
    - python src/models/train_tuned_model.py
    deps:
    - path: data/train.csv
      hash: md5
      md5: b124c02b39328021828fe8a17727d0c9
      size: 2565327
    - path: src/models/train_base_model.py
      hash: md5
      md5: 72d2a43c41919e2cfb5406b17f00672f
      size: 581
    - path: src/models/train_tuned_model.py
      hash: md5
      md5: 33e7fbd0980bd199d43c348a8093f28a
      size: 723
    - path: src/models/utils.py
      hash: md5
      md5: e1ab9525277942635929311062d8e43b
      size: 664
    outs:
    - path: models/base_rf_model.pkl
      hash: md5
      md5: 470f6dcc9ee768555ce8253520bfea88
      size: 30782425
    - path: models/tuned_rf_model.pkl
      hash: md5
      md5: 27c8a4b7b63fdfaf6949a4d9cdbd0a69
      size: 703238687
  predict_model:
    cmd: python src/models/predict_model.py
    deps:
    - path: data/test.csv
      hash: md5
      md5: 5199baa9aa06871a25c3639bb6e4873c
      size: 642401
    - path: models/model.pkl
      hash: md5
      md5: b9d39c597fcea9393ec7777fd017daf9
      size: 34199068
    - path: src/models/predict_model.py
      hash: md5
      md5: f97eab58b80c030730d5b6a99e8e1666
      size: 2215
    outs:
    - path: reports/classification_report.json
      hash: md5
      md5: 163d82e336564ec3b0a2a4d5a4b5abf4
      size: 687
    - path: reports/confusion_matrix.json
      hash: md5
      md5: 5bd49e3e36e33ae371bc1b67744c363c
      size: 155
  train_base_model:
    cmd:
    - python src/models/train_base_model.py
    deps:
    - path: data/train.csv
      hash: md5
      md5: b124c02b39328021828fe8a17727d0c9
      size: 2565327
    - path: src/models/train_base_model.py
      hash: md5
      md5: 56f930f893a25afd17487438a7af1c83
      size: 607
    - path: src/models/utils.py
      hash: md5
      md5: 2fe59199f528a9b8935f3916341abc8f
      size: 1288
    outs:
    - path: models/base_rf_model.pkl
      hash: md5
      md5: b9d39c597fcea9393ec7777fd017daf9
      size: 34199068
  train_tuned_model:
    cmd:
    - python src/models/train_tuned_model.py
    deps:
    - path: data/train.csv
      hash: md5
      md5: b124c02b39328021828fe8a17727d0c9
      size: 2565327
    - path: src/models/train_tuned_model.py
      hash: md5
      md5: 283482d4cc80615cadaf62e1aa9f3f6f
      size: 747
    - path: src/models/utils.py
      hash: md5
      md5: 2fe59199f528a9b8935f3916341abc8f
      size: 1288
    outs:
    - path: models/tuned_rf_model.pkl
      hash: md5
      md5: d4324b3dce8415b6173dbee9879627cc
      size: 781277842
  predict:
    cmd:
    - python src/models/predict.py
    deps:
    - path: data/test.csv
      hash: md5
      md5: 5199baa9aa06871a25c3639bb6e4873c
      size: 642401
    - path: models/base_rf_model.pkl
      hash: md5
      md5: b9d39c597fcea9393ec7777fd017daf9
      size: 34199068
    - path: models/tuned_rf_model.pkl
      hash: md5
      md5: ed42fb563f943ea286f0ea9ebbd36f04
      size: 781028082
    - path: src/models/predict.py
      hash: md5
      md5: d9cdef3c42218c244d1eeb06d0efdd7f
      size: 4008
    - path: src/models/utils.py
      hash: md5
      md5: 65f00776f38f428a5a5f87648392feba
      size: 1289
    outs:
    - path: reports/classification_report_base_rf.json
      hash: md5
      md5: 163d82e336564ec3b0a2a4d5a4b5abf4
      size: 687
    - path: reports/classification_report_tuned_rf.json
      hash: md5
      md5: 42a4959029fed055c2efad1679b50cfb
      size: 685
    - path: reports/confusion_matrix_base_rf.json
      hash: md5
      md5: 5bd49e3e36e33ae371bc1b67744c363c
      size: 155
    - path: reports/confusion_matrix_tuned_rf.json
      hash: md5
      md5: 317617b69e73ca23fb16a455de2da67c
      size: 155
