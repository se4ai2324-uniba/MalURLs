"use strict";(self.webpackChunk_grafana_ui=self.webpackChunk_grafana_ui||[]).push([[5184],{"../../.yarn/__virtual__/@mdx-js-react-virtual-4792127d00/2/yarn/cache/@mdx-js-react-npm-2.3.0-d5582a450b-f45fe77955.zip/node_modules/@mdx-js/react/lib/index.js":function(z,R,r){r.d(R,{NF:function(){return n},Zo:function(){return x},ah:function(){return m},pC:function(){return y}});var p=r("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js");const y=p.createContext({});function n(E){return i;function i(h){const I=m(h.components);return p.createElement(E,{...h,allComponents:I})}}function m(E){const i=p.useContext(y);return p.useMemo(()=>typeof E=="function"?E(i):{...i,...E},[i,E])}const S={};function x({components:E,children:i,disableParentContext:h}){let I;return h?I=typeof E=="function"?E({}):E||S:I=m(E),p.createElement(y.Provider,{value:I},i)}},"../../.yarn/__virtual__/@storybook-addon-actions-virtual-f27b09044a/2/yarn/cache/@storybook-addon-actions-npm-7.4.5-73cd7d7430-c6b2603d31.zip/node_modules/@storybook/addon-actions/dist/index.mjs":function(z,R,r){r.d(R,{aD:function(){return p.aD}});var p=r("../../.yarn/__virtual__/@storybook-addon-actions-virtual-f27b09044a/2/yarn/cache/@storybook-addon-actions-npm-7.4.5-73cd7d7430-c6b2603d31.zip/node_modules/@storybook/addon-actions/dist/chunk-AY7I2SME.mjs"),y=(...n)=>{let m=config,S=n;S.length===1&&Array.isArray(S[0])&&([S]=S),S.length!==1&&typeof S[S.length-1]!="string"&&(m={...config,...S.pop()});let x=S[0];(S.length!==1||typeof x=="string")&&(x={},S.forEach(i=>{x[i]=i}));let E={};return Object.keys(x).forEach(i=>{E[i]=action(x[i],m)}),E}},"./src/components/Forms/FieldValidationMessage.tsx":function(z,R,r){r.d(R,{S:function(){return E}});var p=r("../../../yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js"),y=r("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js"),n=r("./src/themes/stylesFactory.ts"),m=r("./src/themes/ThemeContext.tsx"),S=r("./src/components/Icon/Icon.tsx");const x=(0,n.B)(i=>{const h=`
      font-size: ${i.typography.size.sm};
      font-weight: ${i.typography.fontWeightMedium};
      padding: ${i.spacing(.5,1)};
      color: ${i.colors.error.contrastText};
      background: ${i.colors.error.main};
      border-radius: ${i.shape.radius.default};
      position: relative;
      display: inline-block;
      align-self: flex-start;

      a {
        color: ${i.colors.error.contrastText};
        text-decoration: underline;
      }

      a:hover {
        text-decoration: none;
      }
    `;return{vertical:(0,p.iv)(h,{margin:i.spacing(.5,0,0,0),"&:before":{content:'""',position:"absolute",left:"9px",top:"-5px",width:0,height:0,borderWidth:"0 4px 5px 4px",borderColor:`transparent transparent ${i.colors.error.main} transparent`,borderStyle:"solid"}}),horizontal:(0,p.iv)(h,{marginLeft:"10px","&:before":{content:'""',position:"absolute",left:"-5px",top:"9px",width:0,height:0,borderWidth:"4px 5px 4px 0",borderColor:"transparent #e02f44 transparent transparent",borderStyle:"solid"}}),fieldValidationMessageIcon:(0,p.iv)({marginRight:i.spacing()})}}),E=({children:i,horizontal:h,className:I})=>{const w=(0,m.l4)(),_=x(w),f=(0,p.cx)(h?_.horizontal:_.vertical,I);return y.createElement("div",{role:"alert",className:f},y.createElement(S.J,{className:_.fieldValidationMessageIcon,name:"exclamation-triangle"}),i)};try{x.displayName="getFieldValidationMessageStyles",x.__docgenInfo={description:"",displayName:"getFieldValidationMessageStyles",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},isDark:{defaultValue:null,description:"",name:"isDark",required:!0,type:{name:"boolean"}},isLight:{defaultValue:null,description:"",name:"isLight",required:!0,type:{name:"boolean"}},colors:{defaultValue:null,description:"",name:"colors",required:!0,type:{name:"ThemeColors"}},breakpoints:{defaultValue:null,description:"",name:"breakpoints",required:!0,type:{name:"ThemeBreakpoints"}},spacing:{defaultValue:null,description:"",name:"spacing",required:!0,type:{name:"ThemeSpacing"}},shape:{defaultValue:null,description:"",name:"shape",required:!0,type:{name:"ThemeShape"}},components:{defaultValue:null,description:"",name:"components",required:!0,type:{name:"ThemeComponents"}},typography:{defaultValue:null,description:"",name:"typography",required:!0,type:{name:"ThemeTypography"}},zIndex:{defaultValue:null,description:"",name:"zIndex",required:!0,type:{name:"{ activePanel: number; navbarFixed: number; sidemenu: number; dropdown: number; typeahead: number; tooltip: number; modalBackdrop: number; modal: number; portal: number; }"}},shadows:{defaultValue:null,description:"",name:"shadows",required:!0,type:{name:"ThemeShadows"}},visualization:{defaultValue:null,description:"",name:"visualization",required:!0,type:{name:"ThemeVisualizationColors"}},transitions:{defaultValue:null,description:"",name:"transitions",required:!0,type:{name:"ThemeTransitions"}},v1:{defaultValue:null,description:"@deprecated Will be removed in a future version",name:"v1",required:!0,type:{name:"GrafanaTheme"}},flags:{defaultValue:null,description:"feature flags that might impact component looks",name:"flags",required:!0,type:{name:"{}"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Forms/FieldValidationMessage.tsx#getFieldValidationMessageStyles"]={docgenInfo:x.__docgenInfo,name:"getFieldValidationMessageStyles",path:"src/components/Forms/FieldValidationMessage.tsx#getFieldValidationMessageStyles"})}catch{}try{E.displayName="FieldValidationMessage",E.__docgenInfo={description:"",displayName:"FieldValidationMessage",props:{className:{defaultValue:null,description:"Override component style",name:"className",required:!1,type:{name:"string"}},horizontal:{defaultValue:null,description:"",name:"horizontal",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Forms/FieldValidationMessage.tsx#FieldValidationMessage"]={docgenInfo:E.__docgenInfo,name:"FieldValidationMessage",path:"src/components/Forms/FieldValidationMessage.tsx#FieldValidationMessage"})}catch{}},"./src/components/Forms/InlineField.tsx":function(z,R,r){r.d(R,{_:function(){return v}});var p=r("../../../yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js"),y=r("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js"),n=r("./src/themes/ThemeContext.tsx"),m=r("./src/utils/reactUtils.ts"),S=r("./src/components/Forms/FieldValidationMessage.tsx"),x=r("./src/components/Forms/InlineLabel.tsx"),E=Object.defineProperty,i=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,w=(s,u,l)=>u in s?E(s,u,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[u]=l,_=(s,u)=>{for(var l in u||(u={}))h.call(u,l)&&w(s,l,u[l]);if(i)for(var l of i(u))I.call(u,l)&&w(s,l,u[l]);return s},f=(s,u)=>{var l={};for(var g in s)h.call(s,g)&&u.indexOf(g)<0&&(l[g]=s[g]);if(s!=null&&i)for(var g of i(s))u.indexOf(g)<0&&I.call(s,g)&&(l[g]=s[g]);return l};const v=s=>{var u=s,{children:l,label:g,tooltip:V,labelWidth:T="auto",invalid:c,loading:P,disabled:F,required:N,className:U,htmlFor:k,grow:Y,shrink:$,error:B,transparent:J,interactive:Z}=u,te=f(u,["children","label","tooltip","labelWidth","invalid","loading","disabled","required","className","htmlFor","grow","shrink","error","transparent","interactive"]);const M=(0,n.l4)(),Q=d(M,Y,$),H=k??(0,m.l)(l),pe=typeof g=="string"?y.createElement(x.W,{interactive:Z,width:T,tooltip:V,htmlFor:H,transparent:J},`${g}${N?" *":""}`):g;return y.createElement("div",_({className:(0,p.cx)(Q.container,U)},te),pe,y.createElement("div",{className:Q.childContainer},y.cloneElement(l,{invalid:c,disabled:F,loading:P}),c&&B&&y.createElement("div",{className:(0,p.cx)(Q.fieldValidationWrapper)},y.createElement(S.S,null,B))))};v.displayName="InlineField";const d=(s,u,l)=>({container:(0,p.iv)({display:"flex",flexDirection:"row",alignItems:"flex-start",textAlign:"left",position:"relative",flex:`${u?1:0} ${l?1:0} auto`,margin:`0 ${s.spacing(.5)} ${s.spacing(.5)} 0`}),childContainer:(0,p.iv)({flex:`${u?1:0} ${l?1:0} auto`}),fieldValidationWrapper:(0,p.iv)({marginTop:s.spacing(.5)})});try{v.displayName="InlineField",v.__docgenInfo={description:"",displayName:"InlineField",props:{tooltip:{defaultValue:null,description:"Content for the label's tooltip",name:"tooltip",required:!1,type:{name:"PopoverContent"}},labelWidth:{defaultValue:{value:"auto"},description:"Custom width for the label as a multiple of 8px",name:"labelWidth",required:!1,type:{name:'number | "auto"'}},grow:{defaultValue:null,description:"Make the field's child to fill the width of the row. Equivalent to setting `flex-grow:1` on the field",name:"grow",required:!1,type:{name:"boolean"}},shrink:{defaultValue:null,description:"Make the field's child shrink with width of the row. Equivalent to setting `flex-shrink:1` on the field",name:"shrink",required:!1,type:{name:"boolean"}},transparent:{defaultValue:null,description:"Make field's background transparent",name:"transparent",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"Error message to display",name:"error",required:!1,type:{name:"string | null"}},htmlFor:{defaultValue:null,description:"A unique id that associates the label of the Field component with the control with the unique id.\nIf the `htmlFor` property is missing the `htmlFor` will be inferred from the `id` or `inputId` property of the first child.\nhttps://developer.mozilla.org/en-US/docs/Web/HTML/Element/label#attr-for",name:"htmlFor",required:!1,type:{name:"string"}},interactive:{defaultValue:null,description:"Make tooltip interactive",name:"interactive",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"Label for the field",name:"label",required:!1,type:{name:"ReactNode"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"Form input element, i.e Input or Switch",name:"children",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},disabled:{defaultValue:null,description:"Indicates if field is disabled",name:"disabled",required:!1,type:{name:"boolean"}},invalid:{defaultValue:null,description:"Indicates if field is in invalid state",name:"invalid",required:!1,type:{name:"boolean"}},required:{defaultValue:null,description:"Indicates if field is required",name:"required",required:!1,type:{name:"boolean"}},loading:{defaultValue:null,description:"Indicates if field is in loading state",name:"loading",required:!1,type:{name:"boolean"}},validationMessageHorizontalOverflow:{defaultValue:null,description:"make validation message overflow horizontally. Prevents pushing out adjacent inline components",name:"validationMessageHorizontalOverflow",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Forms/InlineField.tsx#InlineField"]={docgenInfo:v.__docgenInfo,name:"InlineField",path:"src/components/Forms/InlineField.tsx#InlineField"})}catch{}},"./src/components/Forms/InlineFieldRow.tsx":function(z,R,r){r.d(R,{Z:function(){return w}});var p=r("../../../yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js"),y=r("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js"),n=r("./src/themes/ThemeContext.tsx"),m=Object.defineProperty,S=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,i=(f,v,d)=>v in f?m(f,v,{enumerable:!0,configurable:!0,writable:!0,value:d}):f[v]=d,h=(f,v)=>{for(var d in v||(v={}))x.call(v,d)&&i(f,d,v[d]);if(S)for(var d of S(v))E.call(v,d)&&i(f,d,v[d]);return f},I=(f,v)=>{var d={};for(var s in f)x.call(f,s)&&v.indexOf(s)<0&&(d[s]=f[s]);if(f!=null&&S)for(var s of S(f))v.indexOf(s)<0&&E.call(f,s)&&(d[s]=f[s]);return d};const w=f=>{var v=f,{children:d,className:s}=v,u=I(v,["children","className"]);const l=(0,n.wW)(_);return y.createElement("div",h({className:(0,p.cx)(l.container,s)},u),d)},_=f=>({container:(0,p.iv)({label:"InlineFieldRow",display:"flex",flexDirection:"row",flexWrap:"wrap",alignContent:"flex-start",rowGap:f.spacing(.5)})});try{w.displayName="InlineFieldRow",w.__docgenInfo={description:"",displayName:"InlineFieldRow",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Forms/InlineFieldRow.tsx#InlineFieldRow"]={docgenInfo:w.__docgenInfo,name:"InlineFieldRow",path:"src/components/Forms/InlineFieldRow.tsx#InlineFieldRow"})}catch{}},"./src/components/Forms/InlineLabel.tsx":function(z,R,r){r.d(R,{W:function(){return f}});var p=r("../../../yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js"),y=r("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js"),n=r("./src/themes/ThemeContext.tsx"),m=r("./src/components/Icon/Icon.tsx"),S=r("./src/components/Tooltip/Tooltip.tsx"),x=Object.defineProperty,E=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,I=(d,s,u)=>s in d?x(d,s,{enumerable:!0,configurable:!0,writable:!0,value:u}):d[s]=u,w=(d,s)=>{for(var u in s||(s={}))i.call(s,u)&&I(d,u,s[u]);if(E)for(var u of E(s))h.call(s,u)&&I(d,u,s[u]);return d},_=(d,s)=>{var u={};for(var l in d)i.call(d,l)&&s.indexOf(l)<0&&(u[l]=d[l]);if(d!=null&&E)for(var l of E(d))s.indexOf(l)<0&&h.call(d,l)&&(u[l]=d[l]);return u};const f=d=>{var s=d,{children:u,className:l,tooltip:g,width:V,transparent:T,interactive:c,as:P="label"}=s,F=_(s,["children","className","tooltip","width","transparent","interactive","as"]);const N=(0,n.wW)(v,T,V);return y.createElement(P,w({className:(0,p.cx)(N.label,l)},F),u,g&&y.createElement(S.u,{interactive:c,placement:"top",content:g,theme:"info"},y.createElement(m.J,{tabIndex:0,name:"info-circle",size:"sm",className:N.icon})))},v=(d,s=!1,u)=>({label:(0,p.iv)({display:"flex",alignItems:"center",justifyContent:"space-between",flexShrink:0,padding:d.spacing(0,1),fontWeight:d.typography.fontWeightMedium,fontSize:d.typography.size.sm,backgroundColor:s?"transparent":d.colors.background.secondary,height:d.spacing(d.components.height.md),lineHeight:d.spacing(d.components.height.md),marginRight:d.spacing(.5),borderRadius:d.shape.radius.default,border:"none",width:u?u!=="auto"?`${8*u}px`:u:"100%",color:d.colors.text.primary}),icon:(0,p.iv)({color:d.colors.text.secondary,marginLeft:"10px",":hover":{color:d.colors.text.primary}})});try{f.displayName="InlineLabel",f.__docgenInfo={description:"",displayName:"InlineLabel",props:{tooltip:{defaultValue:null,description:`Content for the labels tooltip. If provided, an info icon with the tooltip content
will be displayed`,name:"tooltip",required:!1,type:{name:"PopoverContent"}},width:{defaultValue:null,description:"Custom width for the label",name:"width",required:!1,type:{name:'number | "auto"'}},transparent:{defaultValue:null,description:"Make labels's background transparent",name:"transparent",required:!1,type:{name:"boolean"}},interactive:{defaultValue:null,description:"Make tooltip interactive",name:"interactive",required:!1,type:{name:"boolean"}},as:{defaultValue:null,description:"Controls which element the InlineLabel should be rendered into",name:"as",required:!1,type:{name:"ElementType<any>"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Forms/InlineLabel.tsx#InlineLabel"]={docgenInfo:f.__docgenInfo,name:"InlineLabel",path:"src/components/Forms/InlineLabel.tsx#InlineLabel"})}catch{}},"./src/components/Switch/Switch.tsx":function(z,R,r){r.d(R,{r:function(){return g},x:function(){return V}});var p=r("../../../yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js"),y=r("../../../yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js"),n=r.n(y),m=r("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js"),S=r("../../.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/utils/deprecationWarning.ts"),x=r("./src/themes/ThemeContext.tsx"),E=r("./src/themes/stylesFactory.ts"),i=r("./src/themes/mixins.ts"),h=Object.defineProperty,I=Object.defineProperties,w=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,d=(c,P,F)=>P in c?h(c,P,{enumerable:!0,configurable:!0,writable:!0,value:F}):c[P]=F,s=(c,P)=>{for(var F in P||(P={}))f.call(P,F)&&d(c,F,P[F]);if(_)for(var F of _(P))v.call(P,F)&&d(c,F,P[F]);return c},u=(c,P)=>I(c,w(P)),l=(c,P)=>{var F={};for(var N in c)f.call(c,N)&&P.indexOf(N)<0&&(F[N]=c[N]);if(c!=null&&_)for(var N of _(c))P.indexOf(N)<0&&v.call(c,N)&&(F[N]=c[N]);return F};const g=m.forwardRef((c,P)=>{var F=c,{value:N,checked:U,onChange:k,id:Y,label:$,disabled:B,invalid:J=!1}=F,Z=l(F,["value","checked","onChange","id","label","disabled","invalid"]);U&&(0,S.d)("Switch","checked prop","value");const te=(0,x.l4)(),M=T(te),Q=(0,m.useRef)(Y||(0,y.uniqueId)("switch-"));return m.createElement("div",{className:(0,p.cx)(M.switch,J&&M.invalid)},m.createElement("input",u(s({type:"checkbox",disabled:B,checked:N,onChange:H=>{!B&&k?.(H)},id:Q.current},Z),{ref:P})),m.createElement("label",{htmlFor:Q.current,"aria-label":$??"Toggle switch"}))});g.displayName="Switch";const V=m.forwardRef((c,P)=>{var F=c,{transparent:N,className:U,showLabel:k,label:Y,value:$,id:B,invalid:J}=F,Z=l(F,["transparent","className","showLabel","label","value","id","invalid"]);const te=(0,x.l4)(),M=T(te,N);return m.createElement("div",{className:(0,p.cx)(M.inlineContainer,U,Z.disabled&&M.disabled,J&&M.invalid)},k&&m.createElement("label",{htmlFor:B,className:(0,p.cx)(M.inlineLabel,$&&M.inlineLabelEnabled,"inline-switch-label")},Y),m.createElement(g,u(s({},Z),{id:B,label:Y,ref:P,value:$})))});V.displayName="Switch";const T=(0,E.B)((c,P)=>({switch:(0,p.iv)({width:"32px",height:"16px",position:"relative",input:{opacity:0,left:"-100vw",zIndex:-1e3,position:"absolute","&:disabled + label":{background:c.colors.action.disabledBackground,cursor:"not-allowed"},"&:checked + label":{background:c.colors.primary.main,borderColor:c.colors.primary.main,"&:hover":{background:c.colors.primary.shade},"&::after":{transform:"translate3d(18px, -50%, 0)",background:c.colors.primary.contrastText}},"&:focus + label, &:focus-visible + label":(0,i.SV)(c),"&:focus:not(:focus-visible) + label":(0,i.Cq)(c)},label:{width:"100%",height:"100%",cursor:"pointer",borderRadius:c.shape.radius.pill,background:c.components.input.background,border:`1px solid ${c.components.input.borderColor}`,transition:"all 0.3s ease","&:hover":{borderColor:c.components.input.borderHover},"&::after":{position:"absolute",display:"block",content:'""',width:"12px",height:"12px",borderRadius:c.shape.radius.circle,background:c.colors.text.secondary,boxShadow:c.shadows.z1,top:"50%",transform:"translate3d(2px, -50%, 0)",transition:"transform 0.2s cubic-bezier(0.19, 1, 0.22, 1)","@media (forced-colors: active)":{border:"1px solid transparent"}}}}),inlineContainer:(0,p.iv)({padding:c.spacing(0,1),height:c.spacing(c.components.height.md),display:"inline-flex",alignItems:"center",background:P?"transparent":c.components.input.background,border:`1px solid ${P?"transparent":c.components.input.borderColor}`,borderRadius:c.shape.radius.default,"&:hover":{border:`1px solid ${P?"transparent":c.components.input.borderHover}`,".inline-switch-label":{color:c.colors.text.primary}}}),disabled:(0,p.iv)({backgroundColor:"rgba(204, 204, 220, 0.04)",color:"rgba(204, 204, 220, 0.6)",border:"1px solid rgba(204, 204, 220, 0.04)"}),inlineLabel:(0,p.iv)({cursor:"pointer",paddingRight:c.spacing(1),color:c.colors.text.secondary,whiteSpace:"nowrap"}),inlineLabelEnabled:(0,p.iv)({color:c.colors.text.primary}),invalid:(0,p.iv)({"input + label, input:checked + label, input:hover + label":{border:`1px solid ${c.colors.error.border}`}})}));try{g.displayName="Switch",g.__docgenInfo={description:"",displayName:"Switch",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"boolean"}},invalid:{defaultValue:{value:"false"},description:"Show an invalid state around the input",name:"invalid",required:!1,type:{name:"boolean"}},transparent:{defaultValue:null,description:"Make inline switch's background and border transparent",name:"transparent",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Switch/Switch.tsx#Switch"]={docgenInfo:g.__docgenInfo,name:"Switch",path:"src/components/Switch/Switch.tsx#Switch"})}catch{}},"./src/components/TagsInput/TagsInput.tsx":function(z,R,r){r.d(R,{B:function(){return I}});var p=r("../../../yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js"),y=r("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js"),n=r("./src/themes/ThemeContext.tsx"),m=r("./src/components/Button/Button.tsx"),S=r("./src/components/Input/Input.tsx"),x=r("./src/utils/tags.ts"),E=r("./src/components/IconButton/IconButton.tsx");const i=({name:_,disabled:f,onRemove:v})=>{const{color:d,borderColor:s}=(0,y.useMemo)(()=>(0,x.Bx)(_),[_]),u=(0,n.wW)(h);return y.createElement("li",{className:u.itemStyle,style:{backgroundColor:d,borderColor:s}},y.createElement("span",{className:u.nameStyle},_),y.createElement(E.h,{name:"times",size:"lg",disabled:f,tooltip:`Remove "${_}" tag`,onClick:()=>v(_),className:u.buttonStyles}))},h=_=>{const f=_.spacing.gridSize*3;return{itemStyle:(0,p.iv)({display:"flex",gap:"3px",alignItems:"center",height:`${f}px`,lineHeight:`${f-2}px`,color:"#fff",borderWidth:"1px",borderStyle:"solid",borderRadius:_.shape.radius.default,padding:`0 ${_.spacing(.5)}`,whiteSpace:"nowrap",textShadow:"none",fontWeight:500,fontSize:_.typography.size.sm}),nameStyle:(0,p.iv)({maxWidth:"25ch",textOverflow:"ellipsis",overflow:"hidden"}),buttonStyles:(0,p.iv)({margin:0,"&:hover::before":{display:"none"}})}};try{i.displayName="TagItem",i.__docgenInfo={description:"",displayName:"TagItem",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"(tag: string) => void"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/TagsInput/TagItem.tsx#TagItem"]={docgenInfo:i.__docgenInfo,name:"TagItem",path:"src/components/TagsInput/TagItem.tsx#TagItem"})}catch{}const I=({placeholder:_="New tag (enter key to add)",tags:f=[],onChange:v,width:d,className:s,disabled:u,addOnBlur:l,invalid:g,id:V})=>{const[T,c]=(0,y.useState)(""),P=(0,n.wW)(w),F=(0,n.l4)(),N=(0,y.useCallback)(B=>{c(B.target.value)},[]),U=B=>{v(f.filter(J=>J!==B))},k=B=>{B?.preventDefault(),f.includes(T)||v(f.concat(T)),c("")},Y=()=>{l&&T&&k()},$=B=>{B.key==="Enter"&&T!==""&&k(B)};return y.createElement("div",{className:(0,p.cx)(P.wrapper,s,d?(0,p.iv)({width:F.spacing(d)}):"")},y.createElement(S.I,{id:V,disabled:u,placeholder:_,onChange:N,value:T,onKeyDown:$,onBlur:Y,invalid:g,suffix:y.createElement(m.zx,{fill:"text",className:P.addButtonStyle,onClick:k,size:"md",disabled:T.length<=0},"Add")}),f?.length>0&&y.createElement("ul",{className:P.tags},f.map(B=>y.createElement(i,{key:B,name:B,onRemove:U,disabled:u}))))},w=_=>({wrapper:(0,p.iv)({minHeight:_.spacing(4),display:"flex",flexDirection:"column",gap:_.spacing(1),flexWrap:"wrap"}),tags:(0,p.iv)({display:"flex",justifyContent:"flex-start",flexWrap:"wrap",gap:_.spacing(.5)}),addButtonStyle:(0,p.iv)({margin:`0 -${_.spacing(1)}`})});try{I.displayName="TagsInput",I.__docgenInfo={description:"",displayName:"TagsInput",props:{placeholder:{defaultValue:{value:"New tag (enter key to add)"},description:"",name:"placeholder",required:!1,type:{name:"string"}},tags:{defaultValue:{value:"[]"},description:"Array of selected tags",name:"tags",required:!1,type:{name:"string[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(tags: string[]) => void"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"Toggle disabled state",name:"disabled",required:!1,type:{name:"boolean"}},addOnBlur:{defaultValue:null,description:"Enable adding new tags when input loses focus",name:"addOnBlur",required:!1,type:{name:"boolean"}},invalid:{defaultValue:null,description:"Toggle invalid state",name:"invalid",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/TagsInput/TagsInput.tsx#TagsInput"]={docgenInfo:I.__docgenInfo,name:"TagsInput",path:"src/components/TagsInput/TagsInput.tsx#TagsInput"})}catch{}},"./src/components/TextArea/TextArea.tsx":function(z,R,r){r.d(R,{K:function(){return s}});var p=r("../../../yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js"),y=r("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js"),n=r("./src/themes/ThemeContext.tsx"),m=r("./src/themes/stylesFactory.ts"),S=r("./src/components/Forms/commonStyles.ts"),x=Object.defineProperty,E=Object.defineProperties,i=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,_=(l,g,V)=>g in l?x(l,g,{enumerable:!0,configurable:!0,writable:!0,value:V}):l[g]=V,f=(l,g)=>{for(var V in g||(g={}))I.call(g,V)&&_(l,V,g[V]);if(h)for(var V of h(g))w.call(g,V)&&_(l,V,g[V]);return l},v=(l,g)=>E(l,i(g)),d=(l,g)=>{var V={};for(var T in l)I.call(l,T)&&g.indexOf(T)<0&&(V[T]=l[T]);if(l!=null&&h)for(var T of h(l))g.indexOf(T)<0&&w.call(l,T)&&(V[T]=l[T]);return V};const s=y.forwardRef((l,g)=>{var V=l,{invalid:T,className:c}=V,P=d(V,["invalid","className"]);const F=(0,n.l4)(),N=u(F,T);return y.createElement("textarea",v(f({},P),{className:(0,p.cx)(N.textarea,c),ref:g}))}),u=(0,m.B)((l,g=!1)=>({textarea:(0,p.cx)((0,S.RK)(l),(0,S.GL)(l),(0,p.iv)({display:"block",borderRadius:l.shape.radius.default,padding:`${l.spacing.gridSize/4}px ${l.spacing.gridSize}px`,width:"100%",borderColor:g?l.colors.error.border:l.components.input.borderColor}))}));s.displayName="TextArea";try{s.displayName="TextArea",s.__docgenInfo={description:"",displayName:"TextArea",props:{invalid:{defaultValue:null,description:"Show an invalid state around the input",name:"invalid",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/TextArea/TextArea.tsx#TextArea"]={docgenInfo:s.__docgenInfo,name:"TextArea",path:"src/components/TextArea/TextArea.tsx#TextArea"})}catch{}},"./src/utils/reactUtils.ts":function(z,R,r){r.d(R,{T:function(){return n},l:function(){return y}});var p=r("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js");function y(m){let S;const x=p.Children.only(m);return"id"in x?.props?S=x.props.id:"inputId"in x.props&&(S=x?.props.inputId),typeof S=="string"?S:void 0}function n(m,S){if(p.isValidElement(m)||typeof m=="string"||typeof m=="number")return m;if(typeof m=="function"&&S)return m(S);throw new Error(`${m} is not a React element nor a function that returns React element`)}},"./src/utils/tags.ts":function(z,R,r){r.d(R,{Bx:function(){return m},vm:function(){return S}});const p=["#D32D20","#1E72B8","#B240A2","#705DA0","#466803","#497A3C","#3D71AA","#B15415","#890F02","#6E6E6E","#0A437C","#6D1F62","#584477","#4C7A3F","#2F4F4F","#BF1B00","#7662B1","#8A2EB8","#517A00","#000000","#3F6833","#2F575E","#99440A","#AE561A","#0E4AB4","#58140C","#052B51","#511749","#3F2B5B"],y=["#FF7368","#459EE7","#E069CF","#9683C6","#6C8E29","#76AC68","#6AA4E2","#E7823D","#AF3528","#9B9B9B","#3069A2","#934588","#7E6A9D","#88C477","#557575","#E54126","#A694DD","#B054DE","#8FC426","#262626","#658E59","#557D84","#BF6A30","#FF9B53","#3470DA","#7E3A32","#2B5177","#773D6F","#655181"];function n(i=""){const h=x(i.toLowerCase());return Math.abs(h%p.length)}function m(i=""){const h=n(i);return S(h)}function S(i){return{color:p[i],borderColor:y[i]}}function x(i){let h=5381;for(let I=0;I<i.length;I++)h=(h<<5)+h+i.charCodeAt(I);return h}var E={getTagColorsFromName:m}},"./src/components/DataSourceSettings/DataSourceHttpSettings.story.tsx":function(z,R,r){r.r(R),r.d(R,{Basic:function(){return ue},default:function(){return ya}});var p=r("../../.yarn/__virtual__/@storybook-addon-actions-virtual-f27b09044a/2/yarn/cache/@storybook-addon-actions-npm-7.4.5-73cd7d7430-c6b2603d31.zip/node_modules/@storybook/addon-actions/dist/index.mjs"),y=r("@storybook/client-api"),n=r("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js"),m=r("../../../yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js"),S=r("../grafana-e2e-selectors/src/selectors/index.ts"),x=r("./src/themes/ThemeContext.tsx"),E=r("../../../yarn/cache/classnames-npm-2.3.2-d2fdae468d-2c62199789.zip/node_modules/classnames/index.js"),i=r.n(E),h=r("./src/components/Icon/Icon.tsx"),I=r("./src/components/Tooltip/Tooltip.tsx"),w=Object.defineProperty,_=Object.defineProperties,f=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,u=(e,t,a)=>t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,l=(e,t)=>{for(var a in t||(t={}))d.call(t,a)&&u(e,a,t[a]);if(v)for(var a of v(t))s.call(t,a)&&u(e,a,t[a]);return e},g=(e,t)=>_(e,f(t)),V=(e,t)=>{var a={};for(var o in e)d.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&v)for(var o of v(e))t.indexOf(o)<0&&s.call(e,o)&&(a[o]=e[o]);return a};const T=e=>{var t=e,{children:a,isFocused:o,isInvalid:C,className:b,htmlFor:A,tooltip:O,width:D,interactive:L}=t,K=V(t,["children","isFocused","isInvalid","className","htmlFor","tooltip","width","interactive"]);const q=i()(b,`gf-form-label width-${D||"10"}`,{"gf-form-label--is-focused":o,"gf-form-label--is-invalid":C});return n.createElement("label",g(l({className:q},K),{htmlFor:A}),a,O&&n.createElement(I.u,{placement:"top",content:O,theme:"info",interactive:L},n.createElement(h.J,{tabIndex:0,name:"info-circle",size:"sm",style:{marginLeft:"10px"}})))},c=T;try{T.displayName="FormLabel",T.__docgenInfo={description:"",displayName:"FormLabel",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},htmlFor:{defaultValue:null,description:"",name:"htmlFor",required:!1,type:{name:"string"}},isFocused:{defaultValue:null,description:"",name:"isFocused",required:!1,type:{name:"boolean"}},isInvalid:{defaultValue:null,description:"",name:"isInvalid",required:!1,type:{name:"boolean"}},tooltip:{defaultValue:null,description:"",name:"tooltip",required:!1,type:{name:"PopoverContent"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:'number | "auto"'}},interactive:{defaultValue:null,description:"Make tooltip interactive",name:"interactive",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/FormLabel/FormLabel.tsx#FormLabel"]={docgenInfo:T.__docgenInfo,name:"FormLabel",path:"src/components/FormLabel/FormLabel.tsx#FormLabel"})}catch{}try{c.displayName="InlineFormLabel",c.__docgenInfo={description:"",displayName:"InlineFormLabel",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},htmlFor:{defaultValue:null,description:"",name:"htmlFor",required:!1,type:{name:"string"}},isFocused:{defaultValue:null,description:"",name:"isFocused",required:!1,type:{name:"boolean"}},isInvalid:{defaultValue:null,description:"",name:"isInvalid",required:!1,type:{name:"boolean"}},tooltip:{defaultValue:null,description:"",name:"tooltip",required:!1,type:{name:"PopoverContent"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:'number | "auto"'}},interactive:{defaultValue:null,description:"Make tooltip interactive",name:"interactive",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/FormLabel/FormLabel.tsx#InlineFormLabel"]={docgenInfo:c.__docgenInfo,name:"InlineFormLabel",path:"src/components/FormLabel/FormLabel.tsx#InlineFormLabel"})}catch{}var P=Object.defineProperty,F=Object.defineProperties,N=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,$=(e,t,a)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,B=(e,t)=>{for(var a in t||(t={}))k.call(t,a)&&$(e,a,t[a]);if(U)for(var a of U(t))Y.call(t,a)&&$(e,a,t[a]);return e},J=(e,t)=>F(e,N(t)),Z=(e,t)=>{var a={};for(var o in e)k.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&U)for(var o of U(e))t.indexOf(o)<0&&Y.call(e,o)&&(a[o]=e[o]);return a};const te={labelWidth:6,inputWidth:12},M=e=>{var t=e,{label:a,tooltip:o,labelWidth:C,inputWidth:b,inputEl:A,className:O,interactive:D}=t,L=Z(t,["label","tooltip","labelWidth","inputWidth","inputEl","className","interactive"]);const K=Q();return n.createElement("div",{className:(0,m.cx)(K.formField,O)},n.createElement(c,{width:C,tooltip:o,interactive:D},a),A||n.createElement("input",J(B({type:"text",className:`gf-form-input ${b?`width-${b}`:""}`},L),{disabled:L.disabled})))};M.displayName="FormField",M.defaultProps=te;const Q=()=>({formField:(0,m.iv)({display:"flex",flexDirection:"row",alignItems:"flex-start",textAlign:"left",position:"relative"})});try{M.displayName="FormField",M.__docgenInfo={description:`Default form field including label used in Grafana UI. Default input element is simple <input />. You can also pass
custom inputEl if required in which case inputWidth and inputProps are ignored.`,displayName:"FormField",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},tooltip:{defaultValue:null,description:"",name:"tooltip",required:!1,type:{name:"PopoverContent"}},labelWidth:{defaultValue:{value:"6"},description:"",name:"labelWidth",required:!1,type:{name:"number"}},inputWidth:{defaultValue:{value:"12"},description:"",name:"inputWidth",required:!1,type:{name:"number | null"}},inputEl:{defaultValue:null,description:"",name:"inputEl",required:!1,type:{name:"ReactNode"}},interactive:{defaultValue:null,description:"Make tooltip interactive",name:"interactive",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/FormField/FormField.tsx#FormField"]={docgenInfo:M.__docgenInfo,name:"FormField",path:"src/components/FormField/FormField.tsx#FormField"})}catch{}var H=r("./src/components/Forms/InlineField.tsx"),pe=(e=>(e.onBlur="onBlur",e.onFocus="onFocus",e.onChange="onChange",e))(pe||{});const ft=(e,t)=>{const a=t.reduce((o,C)=>C.rule(e)?o:o.concat(C.errorMessage),[]);return a.length>0?a:null},Le=(e,t)=>t&&t[e],Ia=(e,t)=>({rule:a=>!!a.match(e),errorMessage:t||"Value is not valid"});var ht=Object.defineProperty,gt=Object.defineProperties,yt=Object.getOwnPropertyDescriptors,me=Object.getOwnPropertySymbols,je=Object.prototype.hasOwnProperty,Ne=Object.prototype.propertyIsEnumerable,Be=(e,t,a)=>t in e?ht(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Ae=(e,t)=>{for(var a in t||(t={}))je.call(t,a)&&Be(e,a,t[a]);if(me)for(var a of me(t))Ne.call(t,a)&&Be(e,a,t[a]);return e},Me=(e,t)=>gt(e,yt(t)),St=(e,t)=>{var a={};for(var o in e)je.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&me)for(var o of me(e))t.indexOf(o)<0&&Ne.call(e,o)&&(a[o]=e[o]);return a},_t=(e,t,a)=>new Promise((o,C)=>{var b=D=>{try{O(a.next(D))}catch(L){C(L)}},A=D=>{try{O(a.throw(D))}catch(L){C(L)}},O=D=>D.done?o(D.value):Promise.resolve(D.value).then(b,A);O((a=a.apply(e,t)).next())}),vt=(e=>(e.Invalid="invalid",e.Valid="valid",e))(vt||{});class ie extends n.PureComponent{constructor(){super(...arguments),this.state={error:null},this.validatorAsync=t=>a=>{const o=ft(a.target.value,t);this.setState(C=>Me(Ae({},C),{error:o?o[0]:null}))},this.populateEventPropsWithStatus=(t,a)=>{const o=Ae({},t);return a&&Object.keys(pe).forEach(C=>{(Le(C,a)||t[C])&&(o[C]=b=>_t(this,null,function*(){b.persist(),Le(C,a)&&(yield this.validatorAsync(a[C]).apply(this,[b])),t[C]&&t[C].apply(null,[b,this.status])}))}),o}}get status(){return this.state.error?"invalid":"valid"}get isInvalid(){return this.status==="invalid"}render(){const t=this.props,{validationEvents:a,className:o,hideErrorMessage:C,inputRef:b}=t,A=St(t,["validationEvents","className","hideErrorMessage","inputRef"]),{error:O}=this.state,D=i()("gf-form-input",{invalid:this.isInvalid},o),L=this.populateEventPropsWithStatus(A,a);return n.createElement("div",{style:{flexGrow:1}},n.createElement("input",Me(Ae({},L),{ref:b,className:D})),O&&!C&&n.createElement("span",null,O))}}ie.defaultProps={className:""};try{ie.displayName="Input",ie.__docgenInfo={description:"",displayName:"Input",props:{validationEvents:{defaultValue:null,description:"",name:"validationEvents",required:!1,type:{name:"ValidationEvents"}},hideErrorMessage:{defaultValue:null,description:"",name:"hideErrorMessage",required:!1,type:{name:"boolean"}},inputRef:{defaultValue:null,description:"",name:"inputRef",required:!1,type:{name:"LegacyRef<HTMLInputElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"((event: FocusEvent<HTMLInputElement, Element>, status?: LegacyInputStatus) => void)"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"((event: FocusEvent<HTMLInputElement, Element>, status?: LegacyInputStatus) => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((event: ChangeEvent<HTMLInputElement>, status?: LegacyInputStatus) => void)"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Forms/Legacy/Input/Input.tsx#Input"]={docgenInfo:ie.__docgenInfo,name:"Input",path:"src/components/Forms/Legacy/Input/Input.tsx#Input"})}catch{}var bt=r("./src/components/Select/Select.tsx"),G=r("./src/components/Switch/Switch.tsx"),Et=r("./src/components/TagsInput/TagsInput.tsx"),we=r("../../../yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js"),fe=r("./src/components/Button/Button.tsx"),Ot=Object.defineProperty,he=Object.getOwnPropertySymbols,He=Object.prototype.hasOwnProperty,We=Object.prototype.propertyIsEnumerable,Ke=(e,t,a)=>t in e?Ot(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,ze=(e,t)=>{for(var a in t||(t={}))He.call(t,a)&&Ke(e,a,t[a]);if(he)for(var a of he(t))We.call(t,a)&&Ke(e,a,t[a]);return e},xt=(e,t)=>{var a={};for(var o in e)He.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&he)for(var o of he(e))t.indexOf(o)<0&&We.call(e,o)&&(a[o]=e[o]);return a};const Ct=()=>({noRadiusInput:(0,m.iv)({borderBottomRightRadius:"0 !important",borderTopRightRadius:"0 !important"}),noRadiusButton:(0,m.iv)({borderBottomLeftRadius:"0 !important",borderTopLeftRadius:"0 !important"})}),ne=e=>{var t=e,{label:a="Password",labelWidth:o,inputWidth:C=12,onReset:b,isConfigured:A,tooltip:O,placeholder:D="Password",interactive:L}=t,K=xt(t,["label","labelWidth","inputWidth","onReset","isConfigured","tooltip","placeholder","interactive"]);const q=Ct();return n.createElement(M,{label:a,tooltip:O,interactive:L,labelWidth:o,inputEl:A?n.createElement(n.Fragment,null,n.createElement("input",ze({type:"text",className:(0,m.cx)(`gf-form-input width-${C}`,q.noRadiusInput),disabled:!0,value:"configured"},(0,we.omit)(K,"value"))),n.createElement(fe.zx,{onClick:b,variant:"secondary",type:"button"},"Reset")):n.createElement("input",ze({type:"password",className:`gf-form-input width-${C}`,placeholder:D},K))})};ne.displayName="SecretFormField";try{ne.displayName="SecretFormField",ne.__docgenInfo={description:`Form field that has 2 states configured and not configured. If configured it will not show its contents and adds
a reset button that will clear the input and makes it accessible. In non configured state it behaves like normal
form field. This is used for passwords or anything that is encrypted on the server and is later returned encrypted
to the user (like datasource passwords).`,displayName:"SecretFormField",props:{onReset:{defaultValue:null,description:"",name:"onReset",required:!0,type:{name:"(event: SyntheticEvent<HTMLButtonElement, Event>) => void"}},isConfigured:{defaultValue:null,description:"",name:"isConfigured",required:!0,type:{name:"boolean"}},label:{defaultValue:{value:"Password"},description:"",name:"label",required:!1,type:{name:"string"}},tooltip:{defaultValue:null,description:"",name:"tooltip",required:!1,type:{name:"PopoverContent"}},labelWidth:{defaultValue:null,description:"",name:"labelWidth",required:!1,type:{name:"number"}},inputWidth:{defaultValue:{value:"12"},description:"",name:"inputWidth",required:!1,type:{name:"number"}},placeholder:{defaultValue:{value:"Password"},description:"",name:"placeholder",required:!1,type:{name:"string"}},interactive:{defaultValue:null,description:"",name:"interactive",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/SecretFormField/SecretFormField.tsx#SecretFormField"]={docgenInfo:ne.__docgenInfo,name:"SecretFormField",path:"src/components/SecretFormField/SecretFormField.tsx#SecretFormField"})}catch{}var Pt=Object.defineProperty,It=Object.defineProperties,At=Object.getOwnPropertyDescriptors,ke=Object.getOwnPropertySymbols,wt=Object.prototype.hasOwnProperty,Tt=Object.prototype.propertyIsEnumerable,qe=(e,t,a)=>t in e?Pt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,re=(e,t)=>{for(var a in t||(t={}))wt.call(t,a)&&qe(e,a,t[a]);if(ke)for(var a of ke(t))Tt.call(t,a)&&qe(e,a,t[a]);return e},oe=(e,t)=>It(e,At(t));const ge=({dataSourceConfig:e,onChange:t})=>{const a=e.secureJsonData?e.secureJsonData.basicAuthPassword:"",o=()=>{t(oe(re({},e),{secureJsonData:oe(re({},e.secureJsonData),{basicAuthPassword:""}),secureJsonFields:oe(re({},e.secureJsonFields),{basicAuthPassword:!1})}))},C=b=>{t(oe(re({},e),{secureJsonData:oe(re({},e.secureJsonData),{basicAuthPassword:b.currentTarget.value})}))};return n.createElement(n.Fragment,null,n.createElement(H._,{disabled:e.readOnly},n.createElement(M,{label:"User",labelWidth:10,inputWidth:18,placeholder:"user",value:e.basicAuthUser,onChange:b=>t(oe(re({},e),{basicAuthUser:b.currentTarget.value}))})),n.createElement(H._,{disabled:e.readOnly},n.createElement(ne,{isConfigured:!!(e.secureJsonFields&&e.secureJsonFields.basicAuthPassword),value:a||"",inputWidth:18,labelWidth:10,onReset:o,onChange:C})))};try{ge.displayName="BasicAuthSettings",ge.__docgenInfo={description:"",displayName:"BasicAuthSettings",props:{defaultUrl:{defaultValue:null,description:"The default url for the data source",name:"defaultUrl",required:!0,type:{name:"string"}},urlLabel:{defaultValue:null,description:"Set label for url option",name:"urlLabel",required:!1,type:{name:"string"}},urlDocs:{defaultValue:null,description:"Added to default url tooltip",name:"urlDocs",required:!1,type:{name:"ReactNode"}},showAccessOptions:{defaultValue:null,description:"Show the http access help box",name:"showAccessOptions",required:!1,type:{name:"boolean"}},sigV4AuthToggleEnabled:{defaultValue:null,description:"Show the SigV4 auth toggle option",name:"sigV4AuthToggleEnabled",required:!1,type:{name:"boolean"}},azureAuthSettings:{defaultValue:null,description:"Azure authentication settings *",name:"azureAuthSettings",required:!1,type:{name:"AzureAuthSettings"}},renderSigV4Editor:{defaultValue:null,description:"If SIGV4 is enabled, provide an editor for SIGV4 connection config  *",name:"renderSigV4Editor",required:!1,type:{name:"ReactNode"}},secureSocksDSProxyEnabled:{defaultValue:null,description:"Show the Secure Socks Datasource Proxy toggle option",name:"secureSocksDSProxyEnabled",required:!1,type:{name:"boolean"}},dataSourceConfig:{defaultValue:null,description:"The configuration object of the data source",name:"dataSourceConfig",required:!0,type:{name:"DataSourceSettings<any, any>"}},onChange:{defaultValue:null,description:"Callback for handling changes to the configuration object",name:"onChange",required:!0,type:{name:"(config: DataSourceSettings<any, any>) => void"}},showForwardOAuthIdentityOption:{defaultValue:null,description:"Show the Forward OAuth identity option",name:"showForwardOAuthIdentityOption",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/DataSourceSettings/BasicAuthSettings.tsx#BasicAuthSettings"]={docgenInfo:ge.__docgenInfo,name:"BasicAuthSettings",path:"src/components/DataSourceSettings/BasicAuthSettings.tsx#BasicAuthSettings"})}catch{}var Ft=r("./src/themes/stylesFactory.ts"),Dt=Object.defineProperty,Rt=Object.defineProperties,Vt=Object.getOwnPropertyDescriptors,Ue=Object.getOwnPropertySymbols,Lt=Object.prototype.hasOwnProperty,jt=Object.prototype.propertyIsEnumerable,Ye=(e,t,a)=>t in e?Dt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,ce=(e,t)=>{for(var a in t||(t={}))Lt.call(t,a)&&Ye(e,a,t[a]);if(Ue)for(var a of Ue(t))jt.call(t,a)&&Ye(e,a,t[a]);return e},ye=(e,t)=>Rt(e,Vt(t));const Nt=(0,Ft.B)(()=>({layout:(0,m.iv)({display:"flex",alignItems:"center",marginBottom:"4px","> *":{marginLeft:"4px",marginBottom:0,height:"100%","&:first-child, &:last-child":{marginLeft:0}}})})),Te=({header:e,onBlur:t,onChange:a,onRemove:o,onReset:C})=>{const b=Nt();return n.createElement("div",{className:b.layout},n.createElement(M,{label:"Header",name:"name",placeholder:"X-Custom-Header",labelWidth:5,value:e.name||"",onChange:A=>a(ye(ce({},e),{name:A.target.value})),onBlur:t}),n.createElement(ne,{label:"Value","aria-label":"Value",name:"value",isConfigured:e.configured,value:e.value,labelWidth:5,inputWidth:e.configured?11:12,placeholder:"Header Value",onReset:()=>C(e.id),onChange:A=>a(ye(ce({},e),{value:A.target.value})),onBlur:t}),n.createElement(fe.zx,{type:"button","aria-label":"Remove header",variant:"secondary",size:"xs",onClick:A=>o(e.id)},n.createElement(h.J,{name:"trash-alt"})))};Te.displayName="CustomHeaderRow";class Fe extends n.PureComponent{constructor(t){super(t),this.state={headers:[]},this.updateSettings=()=>{const{headers:b}=this.state,A=Object.fromEntries(Object.entries(this.props.dataSourceConfig.jsonData).filter(([D,L])=>!D.startsWith("httpHeaderName"))),O=Object.fromEntries(Object.entries(this.props.dataSourceConfig.secureJsonData||{}).filter(([D,L])=>!D.startsWith("httpHeaderValue")));for(const[D,L]of b.entries())A[`httpHeaderName${D+1}`]=L.name,L.configured||(O[`httpHeaderValue${D+1}`]=L.value);this.props.onChange(ye(ce({},this.props.dataSourceConfig),{jsonData:A,secureJsonData:O}))},this.onHeaderAdd=()=>{this.setState(b=>({headers:[...b.headers,{id:(0,we.uniqueId)(),name:"",value:"",configured:!1}]}))},this.onHeaderChange=(b,A)=>{this.setState(({headers:O})=>({headers:O.map((D,L)=>b!==L?D:ce({},A))}))},this.onHeaderReset=b=>{this.setState(({headers:A})=>({headers:A.map((O,D)=>O.id!==b?O:ye(ce({},O),{value:"",configured:!1}))}))},this.onHeaderRemove=b=>{this.setState(({headers:A})=>({headers:A.filter(O=>O.id!==b)}),this.updateSettings)};const{jsonData:a,secureJsonData:o,secureJsonFields:C}=this.props.dataSourceConfig;this.state={headers:Object.keys(a).sort().filter(b=>b.startsWith("httpHeaderName")).map((b,A)=>({id:(0,we.uniqueId)(),name:a[b],value:o!==void 0?o[b]:"",configured:C&&C[`httpHeaderValue${A+1}`]||!1}))}}render(){const{headers:t}=this.state,{dataSourceConfig:a}=this.props;return n.createElement("div",{className:"gf-form-group"},n.createElement("div",{className:"gf-form"},n.createElement("h6",null,"Custom HTTP Headers")),n.createElement("div",null,t.map((o,C)=>n.createElement(Te,{key:o.id,header:o,onChange:b=>{this.onHeaderChange(C,b)},onBlur:this.updateSettings,onRemove:this.onHeaderRemove,onReset:this.onHeaderReset}))),!a.readOnly&&n.createElement("div",{className:"gf-form"},n.createElement(fe.zx,{variant:"secondary",icon:"plus",type:"button",onClick:o=>{this.onHeaderAdd()}},"Add header")))}}var Aa=null;try{Fe.displayName="CustomHeaderRow",Fe.__docgenInfo={description:"",displayName:"CustomHeaderRow",props:{dataSourceConfig:{defaultValue:null,description:"",name:"dataSourceConfig",required:!0,type:{name:"DataSourceSettings<any, any>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(config: DataSourceSettings<DataSourceJsonData, {}>) => void"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/DataSourceSettings/CustomHeadersSettings.tsx#CustomHeaderRow"]={docgenInfo:Te.__docgenInfo,name:"CustomHeaderRow",path:"src/components/DataSourceSettings/CustomHeadersSettings.tsx#CustomHeaderRow"})}catch{}var Bt=Object.defineProperty,Mt=Object.defineProperties,Ht=Object.getOwnPropertyDescriptors,$e=Object.getOwnPropertySymbols,Wt=Object.prototype.hasOwnProperty,Kt=Object.prototype.propertyIsEnumerable,Je=(e,t,a)=>t in e?Bt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Se=(e,t)=>{for(var a in t||(t={}))Wt.call(t,a)&&Je(e,a,t[a]);if($e)for(var a of $e(t))Kt.call(t,a)&&Je(e,a,t[a]);return e},_e=(e,t)=>Mt(e,Ht(t));const ve=26,be=({dataSourceConfig:e,onChange:t,showForwardOAuthIdentityOption:a=!0})=>n.createElement(n.Fragment,null,n.createElement("div",{className:"gf-form-inline"},n.createElement(H._,{label:"TLS Client Auth",labelWidth:ve,disabled:e.readOnly},n.createElement(G.x,{id:"http-settings-tls-client-auth",value:e.jsonData.tlsAuth||!1,onChange:o=>t(_e(Se({},e.jsonData),{tlsAuth:o.currentTarget.checked}))})),n.createElement(H._,{label:"With CA Cert",tooltip:"Needed for verifying self-signed TLS Certs",labelWidth:ve,disabled:e.readOnly},n.createElement(G.x,{id:"http-settings-ca-cert",value:e.jsonData.tlsAuthWithCACert||!1,onChange:o=>t(_e(Se({},e.jsonData),{tlsAuthWithCACert:o.currentTarget.checked}))}))),n.createElement("div",{className:"gf-form-inline"},n.createElement(H._,{label:"Skip TLS Verify",labelWidth:ve,disabled:e.readOnly},n.createElement(G.x,{id:"http-settings-skip-tls-verify",value:e.jsonData.tlsSkipVerify||!1,onChange:o=>t(_e(Se({},e.jsonData),{tlsSkipVerify:o.currentTarget.checked}))}))),a&&n.createElement("div",{className:"gf-form-inline"},n.createElement(H._,{label:"Forward OAuth Identity",tooltip:"Forward the user's upstream OAuth identity to the data source (Their access token gets passed along).",labelWidth:ve,disabled:e.readOnly},n.createElement(G.x,{id:"http-settings-forward-oauth",value:e.jsonData.oauthPassThru||!1,onChange:o=>t(_e(Se({},e.jsonData),{oauthPassThru:o.currentTarget.checked}))}))));try{be.displayName="HttpProxySettings",be.__docgenInfo={description:"",displayName:"HttpProxySettings",props:{dataSourceConfig:{defaultValue:null,description:"The configuration object of the data source",name:"dataSourceConfig",required:!0,type:{name:"DataSourceSettings<any, any>"}},onChange:{defaultValue:null,description:"Callback for handling changes to the configuration object",name:"onChange",required:!0,type:{name:"(config: DataSourceSettings<any, any>) => void"}},showForwardOAuthIdentityOption:{defaultValue:{value:"true"},description:"Show the Forward OAuth identity option",name:"showForwardOAuthIdentityOption",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/DataSourceSettings/HttpProxySettings.tsx#HttpProxySettings"]={docgenInfo:be.__docgenInfo,name:"HttpProxySettings",path:"src/components/DataSourceSettings/HttpProxySettings.tsx#HttpProxySettings"})}catch{}var zt=Object.defineProperty,kt=Object.defineProperties,qt=Object.getOwnPropertyDescriptors,Ge=Object.getOwnPropertySymbols,Ut=Object.prototype.hasOwnProperty,Yt=Object.prototype.propertyIsEnumerable,Xe=(e,t,a)=>t in e?zt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Ze=(e,t)=>{for(var a in t||(t={}))Ut.call(t,a)&&Xe(e,a,t[a]);if(Ge)for(var a of Ge(t))Yt.call(t,a)&&Xe(e,a,t[a]);return e},Qe=(e,t)=>kt(e,qt(t));function Ee({options:e,onOptionsChange:t}){var a;return n.createElement(n.Fragment,null,n.createElement("h3",{className:"page-heading"},"Secure Socks Proxy"),n.createElement("div",{className:"gf-form-group"},n.createElement("div",{className:"gf-form-inline"},n.createElement("div",{className:"gf-form"},n.createElement(H._,{labelWidth:26,label:"Enabled",tooltip:"Connect to this datasource via the secure socks proxy."},n.createElement(G.x,{value:(a=e.jsonData.enableSecureSocksProxy)!=null?a:!1,onChange:o=>t(Qe(Ze({},e),{jsonData:Qe(Ze({},e.jsonData),{enableSecureSocksProxy:o.currentTarget.checked})}))}))))))}try{Ee.displayName="SecureSocksProxySettings",Ee.__docgenInfo={description:"",displayName:"SecureSocksProxySettings",props:{options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"DataSourceSettings<T, {}>"}},onOptionsChange:{defaultValue:null,description:"",name:"onOptionsChange",required:!0,type:{name:"(options: DataSourceSettings<T, {}>) => void"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/DataSourceSettings/SecureSocksProxySettings.tsx#SecureSocksProxySettings"]={docgenInfo:Ee.__docgenInfo,name:"SecureSocksProxySettings",path:"src/components/DataSourceSettings/SecureSocksProxySettings.tsx#SecureSocksProxySettings"})}catch{}var $t=r("./src/components/Forms/InlineFieldRow.tsx"),Jt=r("./src/components/Input/Input.tsx"),Gt=r("./src/components/TextArea/TextArea.tsx");const se=({hasCert:e,label:t,onChange:a,onClick:o,placeholder:C})=>n.createElement($t.Z,null,n.createElement(H._,{label:t,labelWidth:14,disabled:e},e?n.createElement(Jt.I,{type:"text",value:"configured",width:24}):n.createElement(Gt.K,{rows:7,onChange:a,placeholder:C,required:!0})),e&&n.createElement(fe.zx,{variant:"secondary",onClick:o,style:{marginLeft:4}},"Reset"));try{se.displayName="CertificationKey",se.__docgenInfo={description:"",displayName:"CertificationKey",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},hasCert:{defaultValue:null,description:"",name:"hasCert",required:!0,type:{name:"boolean"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(event: ChangeEvent<HTMLTextAreaElement>) => void"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(event: MouseEvent<HTMLButtonElement, MouseEvent>) => void"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/DataSourceSettings/CertificationKey.tsx#CertificationKey"]={docgenInfo:se.__docgenInfo,name:"CertificationKey",path:"src/components/DataSourceSettings/CertificationKey.tsx#CertificationKey"})}catch{}var Xt=Object.defineProperty,Zt=Object.defineProperties,Qt=Object.getOwnPropertyDescriptors,et=Object.getOwnPropertySymbols,ea=Object.prototype.hasOwnProperty,ta=Object.prototype.propertyIsEnumerable,tt=(e,t,a)=>t in e?Xt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,le=(e,t)=>{for(var a in t||(t={}))ea.call(t,a)&&tt(e,a,t[a]);if(et)for(var a of et(t))ta.call(t,a)&&tt(e,a,t[a]);return e},Oe=(e,t)=>Zt(e,Qt(t));const xe=({dataSourceConfig:e,onChange:t})=>{const a=e.secureJsonFields&&e.secureJsonFields.tlsCACert,o=e.secureJsonFields&&e.secureJsonFields.tlsClientCert,C=e.secureJsonFields&&e.secureJsonFields.tlsClientKey,b=e.jsonData&&e.jsonData.serverName,A=L=>K=>{K.preventDefault();const q=le({},e.secureJsonFields);q[L]=!1,t(Oe(le({},e),{secureJsonFields:q}))},O=L=>K=>{const q=le({},e.secureJsonData);q[L]=K.currentTarget.value,t(Oe(le({},e),{secureJsonData:q}))},D=L=>{const K=Oe(le({},e.jsonData),{serverName:L.currentTarget.value});t(Oe(le({},e),{jsonData:K}))};return n.createElement("div",{className:"gf-form-group"},n.createElement("div",{className:(0,m.cx)("gf-form",(0,m.iv)({alignItems:"baseline"}))},n.createElement("h6",null,"TLS/SSL Auth Details"),n.createElement(I.u,{placement:"right-end",content:"TLS/SSL Certs are encrypted and stored in the Grafana database.",theme:"info"},n.createElement(h.J,{name:"info-circle",size:"xs",style:{marginLeft:"10px"}}))),n.createElement("div",null,e.jsonData.tlsAuthWithCACert&&n.createElement(se,{hasCert:!!a,onChange:O("tlsCACert"),placeholder:"Begins with -----BEGIN CERTIFICATE-----",label:"CA Cert",onClick:A("tlsCACert")}),e.jsonData.tlsAuth&&n.createElement(n.Fragment,null,n.createElement("div",{className:"gf-form"},n.createElement(M,{label:"ServerName",labelWidth:7,inputWidth:30,placeholder:"domain.example.com",value:b&&e.jsonData.serverName,onChange:D})),n.createElement(se,{hasCert:!!o,label:"Client Cert",onChange:O("tlsClientCert"),placeholder:"Begins with -----BEGIN CERTIFICATE-----",onClick:A("tlsClientCert")}),n.createElement(se,{hasCert:!!C,label:"Client Key",placeholder:"Begins with -----BEGIN RSA PRIVATE KEY-----",onChange:O("tlsClientKey"),onClick:A("tlsClientKey")}))))};try{xe.displayName="TLSAuthSettings",xe.__docgenInfo={description:"",displayName:"TLSAuthSettings",props:{dataSourceConfig:{defaultValue:null,description:"The configuration object of the data source",name:"dataSourceConfig",required:!0,type:{name:"DataSourceSettings<any, any>"}},onChange:{defaultValue:null,description:"Callback for handling changes to the configuration object",name:"onChange",required:!0,type:{name:"(config: DataSourceSettings<any, any>) => void"}},showForwardOAuthIdentityOption:{defaultValue:null,description:"Show the Forward OAuth identity option",name:"showForwardOAuthIdentityOption",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/DataSourceSettings/TLSAuthSettings.tsx#TLSAuthSettings"]={docgenInfo:xe.__docgenInfo,name:"TLSAuthSettings",path:"src/components/DataSourceSettings/TLSAuthSettings.tsx#TLSAuthSettings"})}catch{}var aa=Object.defineProperty,na=Object.defineProperties,ra=Object.getOwnPropertyDescriptors,at=Object.getOwnPropertySymbols,oa=Object.prototype.hasOwnProperty,sa=Object.prototype.propertyIsEnumerable,nt=(e,t,a)=>t in e?aa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,ee=(e,t)=>{for(var a in t||(t={}))oa.call(t,a)&&nt(e,a,t[a]);if(at)for(var a of at(t))sa.call(t,a)&&nt(e,a,t[a]);return e},de=(e,t)=>na(e,ra(t));const rt=[{label:"Server (default)",value:"proxy"},{label:"Browser",value:"direct"}],la={label:"Server (default)",value:"proxy"},ia=()=>n.createElement("div",{className:"grafana-info-box m-t-2"},n.createElement("p",null,"Access mode controls how requests to the data source will be handled.",n.createElement("strong",null,"\xA0",n.createElement("i",null,"Server"))," ","should be the preferred way if nothing else is stated."),n.createElement("div",{className:"alert-title"},"Server access mode (Default):"),n.createElement("p",null,"All requests will be made from the browser to Grafana backend/server which in turn will forward the requests to the data source and by that circumvent possible Cross-Origin Resource Sharing (CORS) requirements. The URL needs to be accessible from the grafana backend/server if you select this access mode."),n.createElement("div",{className:"alert-title"},"Browser access mode:"),n.createElement("p",null,"All requests will be made from the browser directly to the data source and may be subject to Cross-Origin Resource Sharing (CORS) requirements. The URL needs to be accessible from the browser if you select this access mode.")),Ce=26,ae=e=>{const{defaultUrl:t,dataSourceConfig:a,onChange:o,showAccessOptions:C,sigV4AuthToggleEnabled:b,showForwardOAuthIdentityOption:A,azureAuthSettings:O,renderSigV4Editor:D,secureSocksDSProxyEnabled:L,urlLabel:K,urlDocs:q}=e,[mt,Sa]=(0,n.useState)(!1),[Re,_a]=(0,n.useState)(!1),va=(0,x.l4)();let Ie;const X=(0,n.useCallback)(j=>{const Ve=O?.azureAuthSupported&&O.getAzureAuthEnabled(a)||!1;if(_a(Ve),Ve){const Pa=a.jsonData.oauthPassThru!==void 0?a.jsonData.oauthPassThru:!1;j=de(ee({},j),{jsonData:de(ee({},a.jsonData),{oauthPassThru:Ve?!1:Pa})})}o(ee(ee({},a),j))},[O,a,o]);switch(a.access){case"direct":Ie=n.createElement(n.Fragment,null,"Your access method is ",n.createElement("em",null,"Browser"),", this means the URL needs to be accessible from the browser.",q);break;case"proxy":Ie=n.createElement(n.Fragment,null,"Your access method is ",n.createElement("em",null,"Server"),", this means the URL needs to be accessible from the grafana backend/server.",q);break;default:Ie=n.createElement(n.Fragment,null,"Specify a complete HTTP URL (for example http://your_server:8080) ",q)}const ba=n.createElement(bt.Ph,{"aria-label":"Access",className:"width-20 gf-form-input",options:rt,value:rt.filter(j=>j.value===a.access)[0]||la,onChange:j=>X({access:j.value}),disabled:a.readOnly}),Ea=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/.test(a.url),Oa=(0,m.iv)({boxShadow:`inset 0 0px 5px ${va.v1.palette.red}`}),xa=(0,m.cx)({["width-20"]:!0,[Oa]:!Ea}),Ca=n.createElement(ie,{className:xa,placeholder:t,value:a.url,"aria-label":S.wl.components.DataSource.DataSourceHttpSettings.urlInput,onChange:j=>X({url:j.currentTarget.value}),disabled:a.readOnly});return n.createElement("div",{className:"gf-form-group"},n.createElement(n.Fragment,null,n.createElement("h3",{className:"page-heading"},"HTTP"),n.createElement("div",{className:"gf-form-group"},n.createElement("div",{className:"gf-form"},n.createElement(M,{interactive:!!q,label:K??"URL",labelWidth:13,tooltip:Ie,inputEl:Ca})),C&&n.createElement(n.Fragment,null,n.createElement("div",{className:"gf-form-inline"},n.createElement("div",{className:"gf-form"},n.createElement(M,{label:"Access",labelWidth:13,inputWidth:20,inputEl:ba})),n.createElement("div",{className:"gf-form"},n.createElement("button",{type:"button",className:"gf-form-label query-keyword pointer",onClick:()=>Sa(j=>!j)},"Help\xA0",n.createElement(h.J,{name:mt?"angle-down":"angle-right",style:{marginBottom:0}})))),mt&&n.createElement(ia,null)),a.access==="proxy"&&n.createElement("div",{className:"gf-form-group"},n.createElement("div",{className:"gf-form"},n.createElement(c,{width:13,tooltip:"Grafana proxy deletes forwarded cookies by default. Specify cookies by name that should be forwarded to the data source."},"Allowed cookies"),n.createElement(Et.B,{tags:a.jsonData.keepCookies,width:40,onChange:j=>X({jsonData:de(ee({},a.jsonData),{keepCookies:j})}),disabled:a.readOnly})),n.createElement("div",{className:"gf-form"},n.createElement(M,{label:"Timeout",type:"number",labelWidth:13,inputWidth:20,tooltip:"HTTP request timeout in seconds",placeholder:"Timeout in seconds","aria-label":"Timeout in seconds",value:a.jsonData.timeout,onChange:j=>{X({jsonData:de(ee({},a.jsonData),{timeout:parseInt(j.currentTarget.value,10)})})},disabled:a.readOnly}))))),n.createElement(n.Fragment,null,n.createElement("h3",{className:"page-heading"},"Auth"),n.createElement("div",{className:"gf-form-group"},n.createElement("div",{className:"gf-form-inline"},n.createElement(H._,{label:"Basic auth",labelWidth:Ce,disabled:a.readOnly},n.createElement(G.x,{id:"http-settings-basic-auth",value:a.basicAuth,onChange:j=>{X({basicAuth:j.currentTarget.checked})}})),n.createElement(H._,{label:"With Credentials",tooltip:"Whether credentials such as cookies or auth headers should be sent with cross-site requests.",labelWidth:Ce,disabled:a.readOnly},n.createElement(G.x,{id:"http-settings-with-credentials",value:a.withCredentials,onChange:j=>{X({withCredentials:j.currentTarget.checked})}}))),O?.azureAuthSupported&&n.createElement("div",{className:"gf-form-inline"},n.createElement(H._,{label:"Azure Authentication",tooltip:"Use Azure authentication for Azure endpoint.",labelWidth:Ce,disabled:a.readOnly},n.createElement(G.x,{id:"http-settings-azure-auth",value:Re,onChange:j=>{X(O.setAzureAuthEnabled(a,j.currentTarget.checked))}}))),b&&n.createElement("div",{className:"gf-form-inline"},n.createElement(H._,{label:"SigV4 auth",labelWidth:Ce,disabled:a.readOnly},n.createElement(G.x,{id:"http-settings-sigv4-auth",value:a.jsonData.sigV4Auth||!1,onChange:j=>{X({jsonData:de(ee({},a.jsonData),{sigV4Auth:j.currentTarget.checked})})}}))),a.access==="proxy"&&n.createElement(be,{dataSourceConfig:a,onChange:j=>X({jsonData:j}),showForwardOAuthIdentityOption:Re?!1:A})),a.basicAuth&&n.createElement(n.Fragment,null,n.createElement("h6",null,"Basic Auth Details"),n.createElement("div",{className:"gf-form-group"},n.createElement(ge,ee({},e)))),O?.azureAuthSupported&&Re&&O.azureSettingsUI&&n.createElement(O.azureSettingsUI,{dataSourceConfig:a,onChange:o}),a.jsonData.sigV4Auth&&b&&D,(a.jsonData.tlsAuth||a.jsonData.tlsAuthWithCACert)&&n.createElement(xe,{dataSourceConfig:a,onChange:o}),a.access==="proxy"&&n.createElement(Fe,{dataSourceConfig:a,onChange:o})),L&&n.createElement(Ee,{options:a,onOptionsChange:o}))};try{ae.displayName="DataSourceHttpSettings",ae.__docgenInfo={description:"",displayName:"DataSourceHttpSettings",props:{defaultUrl:{defaultValue:null,description:"The default url for the data source",name:"defaultUrl",required:!0,type:{name:"string"}},urlLabel:{defaultValue:null,description:"Set label for url option",name:"urlLabel",required:!1,type:{name:"string"}},urlDocs:{defaultValue:null,description:"Added to default url tooltip",name:"urlDocs",required:!1,type:{name:"ReactNode"}},showAccessOptions:{defaultValue:null,description:"Show the http access help box",name:"showAccessOptions",required:!1,type:{name:"boolean"}},sigV4AuthToggleEnabled:{defaultValue:null,description:"Show the SigV4 auth toggle option",name:"sigV4AuthToggleEnabled",required:!1,type:{name:"boolean"}},azureAuthSettings:{defaultValue:null,description:"Azure authentication settings *",name:"azureAuthSettings",required:!1,type:{name:"AzureAuthSettings"}},renderSigV4Editor:{defaultValue:null,description:"If SIGV4 is enabled, provide an editor for SIGV4 connection config  *",name:"renderSigV4Editor",required:!1,type:{name:"ReactNode"}},secureSocksDSProxyEnabled:{defaultValue:null,description:"Show the Secure Socks Datasource Proxy toggle option",name:"secureSocksDSProxyEnabled",required:!1,type:{name:"boolean"}},dataSourceConfig:{defaultValue:null,description:"The configuration object of the data source",name:"dataSourceConfig",required:!0,type:{name:"DataSourceSettings<any, any>"}},onChange:{defaultValue:null,description:"Callback for handling changes to the configuration object",name:"onChange",required:!0,type:{name:"(config: DataSourceSettings<any, any>) => void"}},showForwardOAuthIdentityOption:{defaultValue:null,description:"Show the Forward OAuth identity option",name:"showForwardOAuthIdentityOption",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/DataSourceSettings/DataSourceHttpSettings.tsx#DataSourceHttpSettings"]={docgenInfo:ae.__docgenInfo,name:"DataSourceHttpSettings",path:"src/components/DataSourceSettings/DataSourceHttpSettings.tsx#DataSourceHttpSettings"})}catch{}var W=r("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/jsx-runtime.js"),ot=r("../../.yarn/__virtual__/@mdx-js-react-virtual-4792127d00/2/yarn/cache/@mdx-js-react-npm-2.3.0-d5582a450b-f45fe77955.zip/node_modules/@mdx-js/react/lib/index.js"),st=r("../../.yarn/__virtual__/@storybook-blocks-virtual-5605a2f23e/2/yarn/cache/@storybook-blocks-patch-37aea2d782-9f0957019b.zip/node_modules/@storybook/blocks/dist/index.mjs");function lt(e){const t=Object.assign({h1:"h1",p:"p",h3:"h3",code:"code",a:"a",pre:"pre"},(0,ot.ah)(),e.components);return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(st.h_,{title:"MDX|DataSourceHttpSettings",component:ae}),`
`,(0,W.jsx)(t.h1,{id:"datasourcehttpsettings",children:"DataSourceHttpSettings"}),`
`,(0,W.jsx)(t.p,{children:"Component for displaying the configuration options for a data source plugin."}),`
`,(0,W.jsx)(t.h3,{id:"when-to-use",children:"When to use"}),`
`,(0,W.jsxs)(t.p,{children:["It is used in a ",(0,W.jsx)(t.code,{children:"ConfigEditor"}),` for data source plugins. You can find more examples in our core data source
plugins `,(0,W.jsx)(t.a,{href:"https://github.com/grafana/grafana/tree/main/public/app/plugins/datasource",target:"_blank",rel:"nofollow noopener noreferrer",children:"here"}),"."]}),`
`,(0,W.jsx)(t.h3,{id:"example-usage",children:"Example usage"}),`
`,(0,W.jsx)(t.pre,{children:(0,W.jsx)(t.code,{className:"language-jsx",children:`export const ConfigEditor = (props: Props) => {
  const { options, onOptionsChange } = props;
  return (
    <>
      <DataSourceHttpSettings
        defaultUrl="http://localhost:9090"
        dataSourceConfig={options}
        showAccessOptions={true}
        onChange={onOptionsChange}
        sigV4AuthEnabled={false}
      />

      {/* Additional configuration settings for your data source plugin.*/}
    </>
  );
};
`})}),`
`,(0,W.jsx)(st.Ed,{of:ae})]})}function ca(e={}){const{wrapper:t}=Object.assign({},(0,ot.ah)(),e.components);return t?(0,W.jsx)(t,Object.assign({},e,{children:(0,W.jsx)(lt,e)})):lt(e)}var da=ca,ua=Object.defineProperty,pa=Object.defineProperties,ma=Object.getOwnPropertyDescriptors,it=Object.getOwnPropertySymbols,fa=Object.prototype.hasOwnProperty,ha=Object.prototype.propertyIsEnumerable,ct=(e,t,a)=>t in e?ua(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Pe=(e,t)=>{for(var a in t||(t={}))fa.call(t,a)&&ct(e,a,t[a]);if(it)for(var a of it(t))ha.call(t,a)&&ct(e,a,t[a]);return e},De=(e,t)=>pa(e,ma(t)),dt,ut,pt;const ga={title:"Data Source/DataSourceHttpSettings",component:ae,parameters:{controls:{exclude:["onChange"]},docs:{page:da}},args:{dataSourceConfig:{id:4,orgId:1,uid:"x",name:"gdev-influxdb",type:"influxdb",typeName:"Influxdb",typeLogoUrl:"",access:"direct",url:"http://localhost:8086",user:"grafana",database:"site",basicAuth:!1,basicAuthUser:"",withCredentials:!1,isDefault:!1,jsonData:{timeInterval:"15s",httpMode:"GET",keepCookies:["cookie1","cookie2"],serverName:""},secureJsonData:{password:!0},secureJsonFields:{},readOnly:!0},defaultUrl:"http://localhost:9999"}},ue=e=>{const[,t]=(0,y.useArgs)();return n.createElement(ae,De(Pe({},e),{onChange:a=>{(0,p.aD)("onChange")(a),t({dataSourceConfig:a})}}))};var ya=ga;ue.parameters=De(Pe({},ue.parameters),{docs:De(Pe({},(dt=ue.parameters)==null?void 0:dt.docs),{source:Pe({originalSource:`args => {
  const [, updateArgs] = useArgs();
  return <DataSourceHttpSettings {...args} onChange={(change: typeof settingsMock) => {
    action('onChange')(change);
    updateArgs({
      dataSourceConfig: change
    });
  }} />;
}`},(pt=(ut=ue.parameters)==null?void 0:ut.docs)==null?void 0:pt.source)})})},"../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/cjs/react-jsx-runtime.production.min.js":function(z,R,r){/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p=r("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js"),y=Symbol.for("react.element"),n=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,S=p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x={key:!0,ref:!0,__self:!0,__source:!0};function E(i,h,I){var w,_={},f=null,v=null;I!==void 0&&(f=""+I),h.key!==void 0&&(f=""+h.key),h.ref!==void 0&&(v=h.ref);for(w in h)m.call(h,w)&&!x.hasOwnProperty(w)&&(_[w]=h[w]);if(i&&i.defaultProps)for(w in h=i.defaultProps,h)_[w]===void 0&&(_[w]=h[w]);return{$$typeof:y,type:i,key:f,ref:v,props:_,_owner:S.current}}R.Fragment=n,R.jsx=E,R.jsxs=E},"../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/jsx-runtime.js":function(z,R,r){z.exports=r("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/cjs/react-jsx-runtime.production.min.js")}}]);
