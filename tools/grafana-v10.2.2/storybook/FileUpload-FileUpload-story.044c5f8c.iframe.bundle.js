"use strict";(self.webpackChunk_grafana_ui=self.webpackChunk_grafana_ui||[]).push([[3296],{"../../.yarn/__virtual__/@mdx-js-react-virtual-4792127d00/2/yarn/cache/@mdx-js-react-npm-2.3.0-d5582a450b-f45fe77955.zip/node_modules/@mdx-js/react/lib/index.js":function(g,u,t){t.d(u,{NF:function(){return y},Zo:function(){return f},ah:function(){return p},pC:function(){return c}});var a=t("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js");const c=a.createContext({});function y(s){return d;function d(r){const l=p(r.components);return a.createElement(s,{...r,allComponents:l})}}function p(s){const d=a.useContext(c);return a.useMemo(()=>typeof s=="function"?s(d):{...d,...s},[d,s])}const v={};function f({components:s,children:d,disableParentContext:r}){let l;return r?l=typeof s=="function"?s({}):s||v:l=p(s),a.createElement(c.Provider,{value:l},d)}},"./src/utils/file.ts":function(g,u,t){t.d(u,{O:function(){return a}});function a(c){const p=c.lastIndexOf("."),v=c.substring(p),f=c.substring(0,p);return f.length<16?c:`${f.substring(0,16)}...${v}`}},"./src/components/FileUpload/FileUpload.story.tsx":function(g,u,t){t.r(u),t.d(u,{Basic:function(){return x},default:function(){return K}});var a=t("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js"),c=t("../../../yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js"),y=t("../../../yarn/cache/uuid-npm-9.0.0-46c41e3e43-8dd2c83c43.zip/node_modules/uuid/dist/esm-browser/v4.js"),p=t("../grafana-e2e-selectors/src/selectors/index.ts"),v=t("./src/themes/ThemeContext.tsx"),f=t("./src/themes/mixins.ts"),s=t("./src/utils/file.ts"),d=t("./src/components/Button/Button.tsx"),r=t("./src/components/Icon/Icon.tsx");const l=({onFileUpload:n,className:e,children:i="Upload file",accept:F="*",size:Y="md",showFileName:Z})=>{const _=(0,v.wW)(m(Y)),[N,H]=(0,a.useState)(""),T=(0,y.Z)(),J=(0,a.useCallback)(w=>{var I,D,L;const M=(D=(I=w.currentTarget)==null?void 0:I.files)==null?void 0:D[0];M&&H((L=M.name)!=null?L:""),n(w)},[n]);return a.createElement(a.Fragment,null,a.createElement("input",{type:"file",id:T,className:_.fileUpload,onChange:J,multiple:!1,accept:F,"data-testid":p.wl.components.FileUpload.inputField}),a.createElement("label",{htmlFor:T,className:(0,c.cx)(_.labelWrapper,e)},a.createElement(r.J,{name:"upload",className:_.icon}),i),Z&&N&&a.createElement("span",{"aria-label":"File name",className:_.fileName,"data-testid":p.wl.components.FileUpload.fileNameSpan},(0,s.O)(N)))},m=n=>e=>{const i=(0,d.fW)({theme:e,variant:"primary",size:n,iconOnly:!1}),F=(0,f.SV)(e);return{fileUpload:(0,c.iv)({height:"0.1px",opacity:"0",overflow:"hidden",position:"absolute",width:"0.1px",zIndex:-1,"&:focus + label":F,"&:focus-visible + label":F}),labelWrapper:i.button,icon:i.icon,fileName:(0,c.iv)({marginLeft:e.spacing(.5)})}};try{l.displayName="FileUpload",l.__docgenInfo={description:"",displayName:"FileUpload",props:{onFileUpload:{defaultValue:null,description:"Callback function to handle uploaded file",name:"onFileUpload",required:!0,type:{name:"(event: FormEvent<HTMLInputElement>) => void"}},accept:{defaultValue:{value:"*"},description:"Accepted file extensions",name:"accept",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"Overwrite or add to style",name:"className",required:!1,type:{name:"string"}},size:{defaultValue:{value:"md"},description:"Button size",name:"size",required:!1,type:{name:"enum",value:[{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'}]}},showFileName:{defaultValue:null,description:"Show the file name",name:"showFileName",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/FileUpload/FileUpload.tsx#FileUpload"]={docgenInfo:l.__docgenInfo,name:"FileUpload",path:"src/components/FileUpload/FileUpload.tsx#FileUpload"})}catch{}var o=t("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/jsx-runtime.js"),h=t("../../.yarn/__virtual__/@mdx-js-react-virtual-4792127d00/2/yarn/cache/@mdx-js-react-npm-2.3.0-d5582a450b-f45fe77955.zip/node_modules/@mdx-js/react/lib/index.js"),j=t("../../.yarn/__virtual__/@storybook-blocks-virtual-5605a2f23e/2/yarn/cache/@storybook-blocks-patch-37aea2d782-9f0957019b.zip/node_modules/@storybook/blocks/dist/index.mjs");function O(n){const e=Object.assign({h1:"h1",p:"p",code:"code",h3:"h3",pre:"pre"},(0,h.ah)(),n.components);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.h1,{id:"fileupload",children:"FileUpload"}),`
`,(0,o.jsxs)(e.p,{children:["A button-styled input that triggers file upload popup. Button text and accepted file extensions can be customized via ",(0,o.jsx)(e.code,{children:"label"})," and ",(0,o.jsx)(e.code,{children:"accepted"})," props respectively."]}),`
`,(0,o.jsx)(e.h3,{id:"usage",children:"Usage"}),`
`,(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-jsx",children:`import { FileUpload } from '@grafana/ui';

<FileUpload
  onFileUpload={({ currentTarget }) => console.log('file', currentTarget?.files && currentTarget.files[0])}
/>;
`})}),`
`,(0,o.jsx)(e.h3,{id:"props",children:"Props"}),`
`,(0,o.jsx)(j.Ed,{of:l})]})}function B(n={}){const{wrapper:e}=Object.assign({},(0,h.ah)(),n.components);return e?(0,o.jsx)(e,Object.assign({},n,{children:(0,o.jsx)(O,n)})):O(n)}var R=B,A=Object.defineProperty,V=Object.defineProperties,X=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,C=(n,e,i)=>e in n?A(n,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[e]=i,b=(n,e)=>{for(var i in e||(e={}))W.call(e,i)&&C(n,i,e[i]);if(U)for(var i of U(e))k.call(e,i)&&C(n,i,e[i]);return n},E=(n,e)=>V(n,X(e)),z,S,P;const $={title:"Forms/FileUpload",component:l,parameters:{docs:{page:R},controls:{exclude:["className","onFileUpload"]}},argTypes:{size:{control:{type:"select"},options:["xs","sm","md","lg"]}}},x=n=>a.createElement(l,{size:n.size,onFileUpload:({currentTarget:e})=>console.log("file",e?.files&&e.files[0])});x.args={size:"md"};var K=$;x.parameters=E(b({},x.parameters),{docs:E(b({},(z=x.parameters)==null?void 0:z.docs),{source:b({originalSource:`args => {
  return <FileUpload size={args.size} onFileUpload={({
    currentTarget
  }) => console.log('file', currentTarget?.files && currentTarget.files[0])} />;
}`},(P=(S=x.parameters)==null?void 0:S.docs)==null?void 0:P.source)})})},"../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/cjs/react-jsx-runtime.production.min.js":function(g,u,t){/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a=t("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js"),c=Symbol.for("react.element"),y=Symbol.for("react.fragment"),p=Object.prototype.hasOwnProperty,v=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function s(d,r,l){var m,o={},h=null,j=null;l!==void 0&&(h=""+l),r.key!==void 0&&(h=""+r.key),r.ref!==void 0&&(j=r.ref);for(m in r)p.call(r,m)&&!f.hasOwnProperty(m)&&(o[m]=r[m]);if(d&&d.defaultProps)for(m in r=d.defaultProps,r)o[m]===void 0&&(o[m]=r[m]);return{$$typeof:c,type:d,key:h,ref:j,props:o,_owner:v.current}}u.Fragment=y,u.jsx=s,u.jsxs=s},"../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/jsx-runtime.js":function(g,u,t){g.exports=t("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/cjs/react-jsx-runtime.production.min.js")}}]);
