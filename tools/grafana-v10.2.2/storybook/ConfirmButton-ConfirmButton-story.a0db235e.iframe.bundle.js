"use strict";(self.webpackChunk_grafana_ui=self.webpackChunk_grafana_ui||[]).push([[4346],{"../../.yarn/__virtual__/@mdx-js-react-virtual-4792127d00/2/yarn/cache/@mdx-js-react-npm-2.3.0-d5582a450b-f45fe77955.zip/node_modules/@mdx-js/react/lib/index.js":function(b,f,a){a.d(f,{NF:function(){return i},Zo:function(){return m},ah:function(){return p},pC:function(){return r}});var d=a("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js");const r=d.createContext({});function i(s){return o;function o(l){const t=p(l.components);return d.createElement(s,{...l,allComponents:t})}}function p(s){const o=d.useContext(r);return d.useMemo(()=>typeof s=="function"?s(o):{...o,...s},[o,s])}const c={};function m({components:s,children:o,disableParentContext:l}){let t;return l?t=typeof s=="function"?s({}):s||c:t=p(s),d.createElement(r.Provider,{value:t},o)}},"../../.yarn/__virtual__/@storybook-addon-actions-virtual-f27b09044a/2/yarn/cache/@storybook-addon-actions-npm-7.4.5-73cd7d7430-c6b2603d31.zip/node_modules/@storybook/addon-actions/dist/index.mjs":function(b,f,a){a.d(f,{aD:function(){return d.aD}});var d=a("../../.yarn/__virtual__/@storybook-addon-actions-virtual-f27b09044a/2/yarn/cache/@storybook-addon-actions-npm-7.4.5-73cd7d7430-c6b2603d31.zip/node_modules/@storybook/addon-actions/dist/chunk-AY7I2SME.mjs"),r=(...i)=>{let p=config,c=i;c.length===1&&Array.isArray(c[0])&&([c]=c),c.length!==1&&typeof c[c.length-1]!="string"&&(p={...config,...c.pop()});let m=c[0];(c.length!==1||typeof m=="string")&&(m={},c.forEach(o=>{m[o]=o}));let s={};return Object.keys(m).forEach(o=>{s[o]=action(m[o],p)}),s}},"./src/themes/stylesFactory.ts":function(b,f,a){a.d(f,{B:function(){return i}});var d=a("../../../yarn/cache/micro-memoize-npm-4.1.2-8063c85cb2-4b02750622.zip/node_modules/micro-memoize/dist/micro-memoize.js"),r=a.n(d);function i(p){return r()(p)}},"./src/components/ConfirmButton/ConfirmButton.story.tsx":function(b,f,a){a.r(f),a.d(f,{Basic:function(){return j},Delete:function(){return O},WithCustomButton:function(){return g},default:function(){return $}});var d=a("../../.yarn/__virtual__/@storybook-addon-actions-virtual-f27b09044a/2/yarn/cache/@storybook-addon-actions-npm-7.4.5-73cd7d7430-c6b2603d31.zip/node_modules/@storybook/addon-actions/dist/index.mjs"),r=a("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js"),i=a("../../../yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js"),p=a("./src/themes/ThemeContext.tsx"),c=a("./src/themes/stylesFactory.ts"),m=a("./src/components/Button/Button.tsx");class s extends r.PureComponent{constructor(){super(...arguments),this.mainButtonRef=r.createRef(),this.confirmButtonRef=r.createRef(),this.state={showConfirm:!1},this.onClickButton=e=>{e&&e.preventDefault(),this.setState({showConfirm:!0},()=>{this.props.autoFocus&&this.confirmButtonRef.current&&this.confirmButtonRef.current.focus()}),this.props.onClick&&this.props.onClick()},this.onClickCancel=e=>{e&&e.preventDefault(),this.setState({showConfirm:!1},()=>{var u;(u=this.mainButtonRef.current)==null||u.focus()}),this.props.onCancel&&this.props.onCancel()},this.onConfirm=e=>{e&&e.preventDefault(),this.props.onConfirm(),this.props.closeOnConfirm&&this.setState({showConfirm:!1})}}render(){const{theme:e,className:u,size:z,disabled:E,confirmText:G,confirmVariant:Z,children:T}=this.props,C=l(e),J=(0,i.cx)(u,this.state.showConfirm?C.buttonHide:C.buttonShow,E&&C.buttonDisabled),Q=(0,i.cx)(C.confirmButton,this.state.showConfirm?C.confirmButtonShow:C.confirmButtonHide),L=E?()=>{}:this.onClickButton;return r.createElement("span",{className:C.buttonContainer},r.createElement("div",{className:(0,i.cx)(E&&C.disabled)},r.createElement("span",{className:J},typeof T=="string"?r.createElement(m.zx,{size:z,fill:"text",onClick:L,ref:this.mainButtonRef},T):r.cloneElement(T,{onClick:L,ref:this.mainButtonRef}))),r.createElement("span",{className:Q},r.createElement(m.zx,{size:z,variant:Z,onClick:this.onConfirm,ref:this.confirmButtonRef},G),r.createElement(m.zx,{size:z,fill:"text",onClick:this.onClickCancel},"Cancel")))}}const o=(0,p.HE)(s),l=(0,c.B)(n=>({buttonContainer:(0,i.iv)({display:"flex",alignItems:"center",justifyContent:"flex-end"}),buttonDisabled:(0,i.iv)({textDecoration:"none",color:n.colors.text.primary,opacity:.65,pointerEvents:"none"}),buttonShow:(0,i.iv)({opacity:1,transition:"opacity 0.1s ease",zIndex:2}),buttonHide:(0,i.iv)({opacity:0,transition:"opacity 0.1s ease, visibility 0 0.1s",visibility:"hidden",zIndex:0}),confirmButton:(0,i.iv)({alignItems:"flex-start",background:n.colors.background.primary,display:"flex",position:"absolute",pointerEvents:"none"}),confirmButtonShow:(0,i.iv)({zIndex:1,opacity:1,transition:"opacity 0.08s ease-out, transform 0.1s ease-out",transform:"translateX(0)",pointerEvents:"all"}),confirmButtonHide:(0,i.iv)({opacity:0,visibility:"hidden",transition:"opacity 0.12s ease-in, transform 0.14s ease-in, visibility 0s 0.12s",transform:"translateX(100px)"}),disabled:(0,i.iv)({cursor:"not-allowed"})}));o.defaultProps={size:"md",confirmText:"Save",disabled:!1,confirmVariant:"primary"},o.displayName="ConfirmButton";try{o.displayName="ConfirmButton",o.__docgenInfo={description:"",displayName:"ConfirmButton",props:{size:{defaultValue:{value:"md"},description:"Button size",name:"size",required:!1,type:{name:"enum",value:[{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'}]}},onClick:{defaultValue:null,description:"Optional on click handler for the original button",name:"onClick",required:!1,type:{name:"(() => void)"}},className:{defaultValue:null,description:"Custom button styles",name:"className",required:!1,type:{name:"string"}},autoFocus:{defaultValue:null,description:"Move focus to button when mounted",name:"autoFocus",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:"false"},description:"Disable button click action",name:"disabled",required:!1,type:{name:"boolean"}},confirmText:{defaultValue:{value:"Save"},description:"Text for the Confirm button",name:"confirmText",required:!1,type:{name:"string"}},confirmVariant:{defaultValue:{value:"primary"},description:"Variant of the Confirm button",name:"confirmVariant",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'},{value:'"destructive"'},{value:'"success"'}]}},onConfirm:{defaultValue:null,description:"Confirm action callback",name:"onConfirm",required:!0,type:{name:"() => void"}},closeOnConfirm:{defaultValue:null,description:"Hide confirm actions when after of them is clicked",name:"closeOnConfirm",required:!1,type:{name:"boolean"}},onCancel:{defaultValue:null,description:"Callback for the cancel action",name:"onCancel",required:!1,type:{name:"(() => void)"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/ConfirmButton/ConfirmButton.tsx#ConfirmButton"]={docgenInfo:o.__docgenInfo,name:"ConfirmButton",path:"src/components/ConfirmButton/ConfirmButton.tsx#ConfirmButton"})}catch{}var t=a("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/jsx-runtime.js"),h=a("../../.yarn/__virtual__/@mdx-js-react-virtual-4792127d00/2/yarn/cache/@mdx-js-react-npm-2.3.0-d5582a450b-f45fe77955.zip/node_modules/@mdx-js/react/lib/index.js"),v=a("../../.yarn/__virtual__/@storybook-blocks-virtual-5605a2f23e/2/yarn/cache/@storybook-blocks-patch-37aea2d782-9f0957019b.zip/node_modules/@storybook/blocks/dist/index.mjs");function x(n){const e=Object.assign({h1:"h1",p:"p",h2:"h2",code:"code",pre:"pre"},(0,h.ah)(),n.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.h_,{title:"MDX|ConfirmButton",component:o}),`
`,(0,t.jsx)(e.h1,{id:"confirmbutton",children:"ConfirmButton"}),`
`,(0,t.jsx)(e.p,{children:"The ConfirmButton is an interactive component that adds a double-confirm option to a clickable action. When clicked, the action is replaced by an inline confirmation with the option to cancel. In Grafana, this is used, for example, for editing values in settings tables."}),`
`,(0,t.jsx)(e.h2,{id:"variants",children:"Variants"}),`
`,(0,t.jsxs)(e.p,{children:["There are four variants of the ",(0,t.jsx)(e.code,{children:"ConfirmButton"}),": primary, secondary, destructive, and link. The primary and secondary variants include a primary or secondary ",(0,t.jsx)(e.code,{children:"Button"})," component. The primary and secondary variant should be used to confirm actions like saving or adding data. The destructive variant includes a destructive ",(0,t.jsx)(e.code,{children:"Button"})," component. The destructive variant should be used to double-confirm a deletion or removal of an element. The link variant doesn't include any button and double-confirms as links instead."]}),`
`,(0,t.jsx)(e.p,{children:"Apart from the button variant, you can also modify the button size and the button text."}),`
`,(0,t.jsx)(e.h2,{id:"usage",children:"Usage"}),`
`,(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:`<ConfirmButton
  closeOnConfirm
  size="md"
  confirmText="Are you sure?"
  confirmVariant="secondary"
  onConfirm={() => {
    console.log('Action confirmed!');
  }}
>
  Click me
</ConfirmButton>
`})}),`
`,(0,t.jsx)(e.h2,{id:"with-a-custom-button",children:"With a custom button"}),`
`,(0,t.jsxs)(e.p,{children:["You can pass a custom button as a child to the ",(0,t.jsx)(e.code,{children:"ConfirmButton"}),". The child will automatically receive the correct ",(0,t.jsx)(e.code,{children:"onClick"})," from ",(0,t.jsx)(e.code,{children:"ConfirmButton"}),"."]}),`
`,(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:`<ConfirmButton
  closeOnConfirm
  size="md"
  confirmText="Are you sure?"
  confirmVariant="secondary"
  onConfirm={() => {
    console.log('Action confirmed!');
  }}
>
  <Button variant="secondary">Click me</Button>
</ConfirmButton>
`})}),`
`,(0,t.jsx)(v.Ed,{of:o})]})}function k(n={}){const{wrapper:e}=Object.assign({},(0,h.ah)(),n.components);return e?(0,t.jsx)(e,Object.assign({},n,{children:(0,t.jsx)(x,n)})):x(n)}var X=k;const B=({size:n,disabled:e,onConfirm:u,"aria-label":z,closeOnConfirm:E})=>r.createElement(o,{confirmText:"Delete",confirmVariant:"destructive",size:n||"md",disabled:e,onConfirm:u,closeOnConfirm:E},r.createElement(m.zx,{"aria-label":z,variant:"destructive",icon:"times",size:n||"sm"}));try{B.displayName="DeleteButton",B.__docgenInfo={description:"",displayName:"DeleteButton",props:{onConfirm:{defaultValue:null,description:"Confirm action callback",name:"onConfirm",required:!0,type:{name:"() => void"}},size:{defaultValue:null,description:"Button size",name:"size",required:!1,type:{name:"enum",value:[{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'}]}},disabled:{defaultValue:null,description:"Disable button click action",name:"disabled",required:!1,type:{name:"boolean"}},"aria-label":{defaultValue:null,description:"",name:"aria-label",required:!1,type:{name:"string"}},closeOnConfirm:{defaultValue:null,description:"Close after delete button is clicked",name:"closeOnConfirm",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/ConfirmButton/DeleteButton.tsx#DeleteButton"]={docgenInfo:B.__docgenInfo,name:"DeleteButton",path:"src/components/ConfirmButton/DeleteButton.tsx#DeleteButton"})}catch{}var W=Object.defineProperty,Y=Object.defineProperties,K=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable,S=(n,e,u)=>e in n?W(n,e,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[e]=u,y=(n,e)=>{for(var u in e||(e={}))U.call(e,u)&&S(n,u,e[u]);if(D)for(var u of D(e))H.call(e,u)&&S(n,u,e[u]);return n},_=(n,e)=>Y(n,K(e)),V,P,R,w,I,A,N,M,F;const q={title:"Buttons/ConfirmButton",component:o,subcomponents:{DeleteButton:B},parameters:{docs:{page:X},controls:{exclude:["className","onClick","onCancel","onConfirm"]}},args:{buttonText:"Edit",confirmText:"Save",size:"md",confirmVariant:"primary",disabled:!1,closeOnConfirm:!0},argTypes:{confirmVariant:{control:{type:"select"},options:["primary","secondary","destructive","link"]},size:{control:{type:"select"},options:["xs","sm","md","lg"]}}},j=n=>r.createElement(o,{closeOnConfirm:n.closeOnConfirm,size:n.size,confirmText:n.confirmText,disabled:n.disabled,confirmVariant:n.confirmVariant,onConfirm:()=>{(0,d.aD)("Saved")("save!")}},n.buttonText),g=n=>r.createElement(o,{closeOnConfirm:n.closeOnConfirm,size:n.size,confirmText:n.confirmText,disabled:n.disabled,confirmVariant:n.confirmVariant,onConfirm:()=>{(0,d.aD)("Saved")("save!")}},r.createElement(m.zx,{size:n.size,variant:"secondary",icon:"pen"},n.buttonText)),O=n=>r.createElement(B,{size:n.size,disabled:n.disabled,onConfirm:()=>{(0,d.aD)("Deleted")("delete!")}});var $=q;j.parameters=_(y({},j.parameters),{docs:_(y({},(V=j.parameters)==null?void 0:V.docs),{source:y({originalSource:`args => {
  return <ConfirmButton closeOnConfirm={args.closeOnConfirm} size={args.size} confirmText={args.confirmText} disabled={args.disabled} confirmVariant={args.confirmVariant} onConfirm={() => {
    action('Saved')('save!');
  }}>
      {args.buttonText}
    </ConfirmButton>;
}`},(R=(P=j.parameters)==null?void 0:P.docs)==null?void 0:R.source)})}),g.parameters=_(y({},g.parameters),{docs:_(y({},(w=g.parameters)==null?void 0:w.docs),{source:y({originalSource:`args => {
  return <ConfirmButton closeOnConfirm={args.closeOnConfirm} size={args.size} confirmText={args.confirmText} disabled={args.disabled} confirmVariant={args.confirmVariant} onConfirm={() => {
    action('Saved')('save!');
  }}>
      <Button size={args.size} variant="secondary" icon="pen">
        {args.buttonText}
      </Button>
    </ConfirmButton>;
}`},(A=(I=g.parameters)==null?void 0:I.docs)==null?void 0:A.source)})}),O.parameters=_(y({},O.parameters),{docs:_(y({},(N=O.parameters)==null?void 0:N.docs),{source:y({originalSource:`args => {
  return <DeleteButton size={args.size} disabled={args.disabled} onConfirm={() => {
    action('Deleted')('delete!');
  }} />;
}`},(F=(M=O.parameters)==null?void 0:M.docs)==null?void 0:F.source)})})},"../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/cjs/react-jsx-runtime.production.min.js":function(b,f,a){/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d=a("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js"),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),p=Object.prototype.hasOwnProperty,c=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function s(o,l,t){var h,v={},x=null,k=null;t!==void 0&&(x=""+t),l.key!==void 0&&(x=""+l.key),l.ref!==void 0&&(k=l.ref);for(h in l)p.call(l,h)&&!m.hasOwnProperty(h)&&(v[h]=l[h]);if(o&&o.defaultProps)for(h in l=o.defaultProps,l)v[h]===void 0&&(v[h]=l[h]);return{$$typeof:r,type:o,key:x,ref:k,props:v,_owner:c.current}}f.Fragment=i,f.jsx=s,f.jsxs=s},"../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/jsx-runtime.js":function(b,f,a){b.exports=a("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/cjs/react-jsx-runtime.production.min.js")}}]);
