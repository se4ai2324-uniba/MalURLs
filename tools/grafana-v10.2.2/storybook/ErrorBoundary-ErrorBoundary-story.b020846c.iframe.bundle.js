"use strict";(self.webpackChunk_grafana_ui=self.webpackChunk_grafana_ui||[]).push([[5129],{"./src/components/Alert/Alert.tsx":function($,w,d){d.d(w,{b:function(){return z}});var c=d("../../../yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js"),i=d("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js"),v=d("../grafana-e2e-selectors/src/selectors/index.ts"),s=d("./src/themes/ThemeContext.tsx"),p=d("./src/components/Button/Button.tsx"),E=d("./src/components/Icon/Icon.tsx"),u=d("./src/components/Layout/utils/responsiveness.tsx"),X=Object.defineProperty,H=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,G=(e,t,a)=>t in e?X(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,V=(e,t)=>{for(var a in t||(t={}))D.call(t,a)&&G(e,a,t[a]);if(H)for(var a of H(t))F.call(t,a)&&G(e,a,t[a]);return e},A=(e,t)=>{var a={};for(var m in e)D.call(e,m)&&t.indexOf(m)<0&&(a[m]=e[m]);if(e!=null&&H)for(var m of H(e))t.indexOf(m)<0&&F.call(e,m)&&(a[m]=e[m]);return a};const P=(0,i.forwardRef)((e,t)=>{const a=e,{children:m,margin:x,marginX:R,marginY:B,marginTop:L,marginBottom:b,marginLeft:T,marginRight:Z,padding:j,paddingX:I,paddingY:W,paddingTop:N,paddingBottom:M,paddingLeft:o,paddingRight:r,display:l,backgroundColor:S,grow:O,shrink:K,borderColor:q,borderStyle:ne,borderRadius:te,justifyContent:n,alignItems:oe,boxShadow:ie,element:ae}=a,se=A(a,["children","margin","marginX","marginY","marginTop","marginBottom","marginLeft","marginRight","padding","paddingX","paddingY","paddingTop","paddingBottom","paddingLeft","paddingRight","display","backgroundColor","grow","shrink","borderColor","borderStyle","borderRadius","justifyContent","alignItems","boxShadow","element"]),le=(0,s.wW)(ee,x,R,B,L,b,T,Z,j,I,W,N,M,o,r,l,S,O,K,q,ne,te,n,oe,ie),de=ae??"div";return i.createElement(de,V({ref:t,className:le.root},se),m)});P.displayName="Box";const f=(e,t)=>{switch(e){case"error":case"success":case"info":case"warning":return t.colors[e].borderTransparent;default:return e?t.colors.border[e]:void 0}},U=(e,t)=>{switch(e){case"error":case"success":case"info":case"warning":return t.colors[e].transparent;default:return e?t.colors.background[e]:void 0}},ee=(e,t,a,m,x,R,B,L,b,T,Z,j,I,W,N,M,o,r,l,S,O,K,q,ne,te)=>({root:(0,c.iv)([(0,u.U)(e,t,n=>({margin:e.spacing(n)})),(0,u.U)(e,a,n=>({marginLeft:e.spacing(n),marginRight:e.spacing(n)})),(0,u.U)(e,m,n=>({marginTop:e.spacing(n),marginBottom:e.spacing(n)})),(0,u.U)(e,x,n=>({marginTop:e.spacing(n)})),(0,u.U)(e,R,n=>({marginBottom:e.spacing(n)})),(0,u.U)(e,B,n=>({marginLeft:e.spacing(n)})),(0,u.U)(e,L,n=>({marginRight:e.spacing(n)})),(0,u.U)(e,b,n=>({padding:e.spacing(n)})),(0,u.U)(e,T,n=>({paddingLeft:e.spacing(n),paddingRight:e.spacing(n)})),(0,u.U)(e,Z,n=>({paddingTop:e.spacing(n),paddingBottom:e.spacing(n)})),(0,u.U)(e,j,n=>({paddingTop:e.spacing(n)})),(0,u.U)(e,I,n=>({paddingBottom:e.spacing(n)})),(0,u.U)(e,W,n=>({paddingLeft:e.spacing(n)})),(0,u.U)(e,N,n=>({paddingRight:e.spacing(n)})),(0,u.U)(e,M,n=>({display:n})),(0,u.U)(e,o,n=>({backgroundColor:U(n,e)})),(0,u.U)(e,r,n=>({flex:n})),(0,u.U)(e,l,n=>({flexShrink:n})),(0,u.U)(e,O,n=>({borderStyle:n})),(0,u.U)(e,S,n=>({borderColor:f(n,e)})),(O||S)&&{borderWidth:"1px"},(0,u.U)(e,q,n=>({justifyContent:n})),(0,u.U)(e,ne,n=>({alignItems:n})),(0,u.U)(e,K,n=>({borderRadius:e.shape.radius[n]})),(0,u.U)(e,te,n=>({boxShadow:e.shadows[n]}))])});try{P.displayName="Box",P.__docgenInfo={description:"",displayName:"Box",props:{margin:{defaultValue:null,description:"Sets the property `margin`",name:"margin",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},marginX:{defaultValue:null,description:"Sets the properties `margin-top` and `margin-bottom`. Higher priority than margin.",name:"marginX",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},marginY:{defaultValue:null,description:"Sets the properties `margin-left` and `margin-right`. Higher priority than margin.",name:"marginY",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},marginTop:{defaultValue:null,description:"Sets the property `margin-top`. Higher priority than margin and marginY.",name:"marginTop",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},marginBottom:{defaultValue:null,description:"Sets the property `margin-bottom`. Higher priority than margin and marginXY",name:"marginBottom",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},marginLeft:{defaultValue:null,description:"Sets the property `margin-left`. Higher priority than margin and marginX.",name:"marginLeft",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},marginRight:{defaultValue:null,description:"Sets the property `margin-right`. Higher priority than margin and marginX.",name:"marginRight",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},padding:{defaultValue:null,description:"Sets the property `padding`",name:"padding",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},paddingX:{defaultValue:null,description:"Sets the properties `padding-top` and `padding-bottom`. Higher priority than padding.",name:"paddingX",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},paddingY:{defaultValue:null,description:"Sets the properties `padding-left` and `padding-right`. Higher priority than padding.",name:"paddingY",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},paddingTop:{defaultValue:null,description:"Sets the property `padding-top`. Higher priority than padding and paddingY.",name:"paddingTop",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},paddingBottom:{defaultValue:null,description:"Sets the property `padding-bottom`. Higher priority than padding and paddingY.",name:"paddingBottom",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},paddingLeft:{defaultValue:null,description:"Sets the property `padding-left`. Higher priority than padding and paddingX.",name:"paddingLeft",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},paddingRight:{defaultValue:null,description:"Sets the property `padding-right`. Higher priority than padding and paddingX.",name:"paddingRight",required:!1,type:{name:"ResponsiveProp<ThemeSpacingTokens>"}},borderStyle:{defaultValue:null,description:"",name:"borderStyle",required:!1,type:{name:"ResponsiveProp<BorderStyle>"}},borderColor:{defaultValue:null,description:"",name:"borderColor",required:!1,type:{name:"ResponsiveProp<BorderColor>"}},borderRadius:{defaultValue:null,description:"",name:"borderRadius",required:!1,type:{name:"ResponsiveProp<keyof Radii>"}},grow:{defaultValue:null,description:"Sets the property `flex`",name:"grow",required:!1,type:{name:"ResponsiveProp<number>"}},shrink:{defaultValue:null,description:"Sets the property `flex-shrink`",name:"shrink",required:!1,type:{name:"ResponsiveProp<number>"}},alignItems:{defaultValue:null,description:"",name:"alignItems",required:!1,type:{name:"ResponsiveProp<AlignItems>"}},justifyContent:{defaultValue:null,description:"",name:"justifyContent",required:!1,type:{name:"ResponsiveProp<JustifyContent>"}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!1,type:{name:"ResponsiveProp<BackgroundColor>"}},display:{defaultValue:null,description:"",name:"display",required:!1,type:{name:"ResponsiveProp<Display>"}},boxShadow:{defaultValue:null,description:"",name:"boxShadow",required:!1,type:{name:"ResponsiveProp<keyof ThemeShadows>"}},element:{defaultValue:null,description:"Sets the HTML element that will be rendered as a Box. Defaults to 'div'",name:"element",required:!1,type:{name:"ElementType<any>"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Layout/Box/Box.tsx#Box"]={docgenInfo:P.__docgenInfo,name:"Box",path:"src/components/Layout/Box/Box.tsx#Box"})}catch{}var g=d("./src/components/Text/Text.tsx"),h=Object.defineProperty,y=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,J=(e,t,a)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Q=(e,t)=>{for(var a in t||(t={}))_.call(t,a)&&J(e,a,t[a]);if(y)for(var a of y(t))Y.call(t,a)&&J(e,a,t[a]);return e},k=(e,t)=>{var a={};for(var m in e)_.call(e,m)&&t.indexOf(m)<0&&(a[m]=e[m]);if(e!=null&&y)for(var m of y(e))t.indexOf(m)<0&&Y.call(e,m)&&(a[m]=e[m]);return a};const z=i.forwardRef((e,t)=>{var a=e,{title:m,onRemove:x,children:R,buttonContent:B,elevated:L,bottomSpacing:b,topSpacing:T,className:Z,severity:j="error"}=a,I=k(a,["title","onRemove","children","buttonContent","elevated","bottomSpacing","topSpacing","className","severity"]);const W=(0,s.l4)(),M=C(W,j,!!m,L,b,T),o={error:"alert",warning:"alert",info:"status",success:"status"},r=I.role||o[j],l=I["aria-label"]||m;return i.createElement("div",Q({ref:t,className:(0,c.cx)(M.wrapper,Z),"data-testid":v.wl.components.Alert.alertV2(j),role:r,"aria-label":l},I),i.createElement(P,{display:"flex",backgroundColor:j,borderRadius:"default",paddingY:1,paddingX:2,borderStyle:"solid",borderColor:j,alignItems:"stretch",boxShadow:L?"z3":void 0},i.createElement(P,{paddingTop:1,paddingRight:2},i.createElement("div",{className:M.icon},i.createElement(E.J,{size:"xl",name:re(j)}))),i.createElement(P,{paddingY:1,grow:1},i.createElement(g.x,{weight:"medium"},m),R&&i.createElement("div",{className:M.content},R)),x&&!B&&i.createElement("div",{className:M.close},i.createElement(p.zx,{"aria-label":"Close alert",icon:"times",onClick:x,type:"button",fill:"text",variant:"secondary"})),x&&B&&i.createElement(P,{marginLeft:1,display:"flex",alignItems:"center"},i.createElement(p.zx,{"aria-label":"Close alert",variant:"secondary",onClick:x,type:"button"},B))))});z.displayName="Alert";const re=e=>{switch(e){case"error":return"exclamation-circle";case"warning":return"exclamation-triangle";case"info":return"info-circle";case"success":return"check"}},C=(e,t,a,m,x,R)=>{const B=e.colors[t];return{wrapper:(0,c.iv)({flexGrow:1,marginBottom:e.spacing(x??2),marginTop:e.spacing(R??0),position:"relative","&:before":{content:'""',position:"absolute",top:0,left:0,bottom:0,right:0,background:e.colors.background.primary,zIndex:-1}}),icon:(0,c.iv)({color:B.text}),content:(0,c.iv)({paddingTop:a?e.spacing(.5):0,maxHeight:"50vh",overflowY:"auto"}),close:(0,c.iv)({position:"relative",color:e.colors.text.secondary,background:"none",display:"flex",top:"-6px",right:"-14px"})}};try{z.displayName="Alert",z.__docgenInfo={description:"",displayName:"Alert",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},onRemove:{defaultValue:null,description:"On click handler for alert button, mostly used for dismissing the alert",name:"onRemove",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},severity:{defaultValue:{value:"error"},description:"",name:"severity",required:!1,type:{name:"enum",value:[{value:'"info"'},{value:'"success"'},{value:'"error"'},{value:'"warning"'}]}},elevated:{defaultValue:null,description:"",name:"elevated",required:!1,type:{name:"boolean"}},buttonContent:{defaultValue:null,description:"",name:"buttonContent",required:!1,type:{name:"ReactNode"}},bottomSpacing:{defaultValue:null,description:"",name:"bottomSpacing",required:!1,type:{name:"number"}},topSpacing:{defaultValue:null,description:"",name:"topSpacing",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Alert/Alert.tsx#Alert"]={docgenInfo:z.__docgenInfo,name:"Alert",path:"src/components/Alert/Alert.tsx#Alert"})}catch{}},"./src/components/ErrorBoundary/ErrorWithStack.tsx":function($,w,d){d.d(w,{X:function(){return p}});var c=d("../../../yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js"),i=d("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js"),v=d("./src/themes/stylesFactory.ts");const s=(0,v.B)(()=>(0,c.iv)({width:"500px",margin:"64px auto"})),p=({error:E,errorInfo:u,title:X})=>i.createElement("div",{className:s()},i.createElement("h2",null,X),i.createElement("details",{style:{whiteSpace:"pre-wrap"}},E&&E.toString(),i.createElement("br",null),u&&u.componentStack));p.displayName="ErrorWithStack";try{p.displayName="ErrorWithStack",p.__docgenInfo={description:"",displayName:"ErrorWithStack",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},error:{defaultValue:null,description:"",name:"error",required:!0,type:{name:"Error | null"}},errorInfo:{defaultValue:null,description:"",name:"errorInfo",required:!0,type:{name:"ErrorInfo | null"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/ErrorBoundary/ErrorWithStack.tsx#ErrorWithStack"]={docgenInfo:p.__docgenInfo,name:"ErrorWithStack",path:"src/components/ErrorBoundary/ErrorWithStack.tsx#ErrorWithStack"})}catch{}},"./src/components/Layout/utils/responsiveness.tsx":function($,w,d){d.d(w,{U:function(){return i}});function c(v,s,p,E){const u=s[E];if(u!=null)return{[v.breakpoints.up(E)]:p(u)}}function i(v,s,p){return s==null?null:typeof s!="object"||!("xs"in s)?p(s):[c(v,s,p,"xs"),c(v,s,p,"sm"),c(v,s,p,"md"),c(v,s,p,"lg"),c(v,s,p,"xl"),c(v,s,p,"xxl")]}try{i.displayName="getResponsiveStyle",i.__docgenInfo={description:"Function that converts a ResponsiveProp object into CSS",displayName:"getResponsiveStyle",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Layout/utils/responsiveness.tsx#getResponsiveStyle"]={docgenInfo:i.__docgenInfo,name:"getResponsiveStyle",path:"src/components/Layout/utils/responsiveness.tsx#getResponsiveStyle"})}catch{}},"./src/components/Text/Text.tsx":function($,w,d){d.d(w,{x:function(){return U}});var c=d("../../../yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js"),i=d("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js"),v=d("../../.yarn/__virtual__/react-dom-virtual-5dcbe0c0ba/2/yarn/cache/react-dom-npm-18.2.0-dd675bca1c-7d323310be.zip/node_modules/react-dom/server.browser.js"),s=d("./src/themes/ThemeContext.tsx"),p=d("./src/components/Tooltip/Tooltip.tsx"),E=d("./src/components/Text/utils.ts"),u=Object.defineProperty,X=Object.defineProperties,H=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable,V=(g,h,y)=>h in g?u(g,h,{enumerable:!0,configurable:!0,writable:!0,value:y}):g[h]=y,A=(g,h)=>{for(var y in h||(h={}))F.call(h,y)&&V(g,y,h[y]);if(D)for(var y of D(h))G.call(h,y)&&V(g,y,h[y]);return g},P=(g,h)=>X(g,H(h)),f=(g,h)=>{var y={};for(var _ in g)F.call(g,_)&&h.indexOf(_)<0&&(y[_]=g[_]);if(g!=null&&D)for(var _ of D(g))h.indexOf(_)<0&&G.call(g,_)&&(y[_]=g[_]);return y};const U=i.forwardRef((g,h)=>{var y=g,{element:_="span",variant:Y,weight:J,color:Q,truncate:k,italic:z,textAlignment:re,children:C}=y,e=f(y,["element","variant","weight","color","truncate","italic","textAlignment","children"]);const t=(0,s.wW)(ee,_,Y,Q,J,k,z,re),[a,m]=(0,i.useState)(!1),x=(0,i.useRef)(null);(0,i.useImperativeHandle)(h,()=>x.current);const R=(0,i.createElement)(_,P(A({},e),{style:void 0,className:t,ref:a?void 0:x}),C),B=(0,i.useMemo)(()=>new ResizeObserver(b=>{for(const T of b)T.target.clientWidth&&T.target.scrollWidth&&(T.target.scrollWidth>T.target.clientWidth&&m(!0),T.target.scrollWidth<=T.target.clientWidth&&m(!1))}),[]);(0,i.useEffect)(()=>{const{current:b}=x;return b&&k&&B.observe(b),()=>{B.disconnect()}},[a,B,k]);const L=b=>typeof b=="string"?b:v.renderToStaticMarkup(i.createElement(i.Fragment,null,b)).replace(/(<([^>]+)>)/gi,"");return k&&a&&_!=="span"?i.createElement(p.u,{ref:x,content:L(C)},R):R});U.displayName="Text";const ee=(g,h,y,_,Y,J,Q,k)=>(0,c.iv)([A({margin:0,padding:0},(0,E.jt)(g,h,y)),y&&A({},g.typography[y]),_&&{color:(0,E.Jx)(_,g)},Y&&{fontWeight:(0,E.RC)(Y,g)},J&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},Q&&{fontStyle:"italic"},k&&{textAlign:k}]);try{U.displayName="Text",U.__docgenInfo={description:"",displayName:"Text",props:{element:{defaultValue:{value:"span"},description:'Defines what HTML element is defined underneath. "span" by default',name:"element",required:!1,type:{name:"enum",value:[{value:'"h1"'},{value:'"h2"'},{value:'"h3"'},{value:'"h4"'},{value:'"h5"'},{value:'"h6"'},{value:'"p"'},{value:'"span"'}]}},variant:{defaultValue:null,description:"What typograpy variant should be used for the component. Only use if default variant for the defined element is not what is needed",name:"variant",required:!1,type:{name:"enum",value:[{value:'"body"'},{value:'"h1"'},{value:'"h2"'},{value:'"h3"'},{value:'"h4"'},{value:'"h5"'},{value:'"h6"'},{value:'"bodySmall"'}]}},weight:{defaultValue:null,description:"Override the default weight for the used variant",name:"weight",required:!1,type:{name:"enum",value:[{value:'"bold"'},{value:'"light"'},{value:'"regular"'},{value:'"medium"'}]}},color:{defaultValue:null,description:"Color to use for text",name:"color",required:!1,type:{name:"enum",value:[{value:'"info"'},{value:'"link"'},{value:'"primary"'},{value:'"secondary"'},{value:'"success"'},{value:'"error"'},{value:'"disabled"'},{value:'"warning"'},{value:'"maxContrast"'}]}},truncate:{defaultValue:null,description:"Use to cut the text off with ellipsis if there isn't space to show all of it. On hover shows the rest of the text",name:"truncate",required:!1,type:{name:"boolean"}},italic:{defaultValue:null,description:"If true, show the text as italic. False by default",name:"italic",required:!1,type:{name:"boolean"}},textAlignment:{defaultValue:null,description:"Whether to align the text to left, center or right",name:"textAlignment",required:!1,type:{name:"enum",value:[{value:'"right"'},{value:'"left"'},{value:'"center"'},{value:'"inherit"'},{value:'"start"'},{value:'"justify"'},{value:'"-moz-initial"'},{value:'"initial"'},{value:'"revert"'},{value:'"revert-layer"'},{value:'"unset"'},{value:'"end"'},{value:'"match-parent"'}]}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Text/Text.tsx#Text"]={docgenInfo:U.__docgenInfo,name:"Text",path:"src/components/Text/Text.tsx#Text"})}catch{}},"./src/components/Text/utils.ts":function($,w,d){d.d(w,{Jx:function(){return i},RC:function(){return c},jt:function(){return v}});const c=(s,p)=>{switch(s){case"bold":return p.typography.fontWeightBold;case"medium":return p.typography.fontWeightMedium;case"light":return p.typography.fontWeightLight;case"regular":case void 0:return p.typography.fontWeightRegular}},i=(s,p)=>{switch(s){case"error":return p.colors.error.text;case"success":return p.colors.success.text;case"info":return p.colors.info.text;case"warning":return p.colors.warning.text;default:return s?p.colors.text[s]:void 0}},v=(s,p,E)=>{if(E)return s.typography[E];switch(p){case"span":return;case"h1":return s.typography.h1;case"h2":return s.typography.h2;case"h3":return s.typography.h3;case"h4":return s.typography.h4;case"h5":return s.typography.h5;case"h6":return s.typography.h6;default:return s.typography.body}}},"./src/themes/stylesFactory.ts":function($,w,d){d.d(w,{B:function(){return v}});var c=d("../../../yarn/cache/micro-memoize-npm-4.1.2-8063c85cb2-4b02750622.zip/node_modules/micro-memoize/dist/micro-memoize.js"),i=d.n(c);function v(s){return i()(s)}},"./src/components/ErrorBoundary/ErrorBoundary.story.tsx":function($,w,d){d.r(w),d.d(w,{Basic:function(){return I},BoundaryAlert:function(){return N},WithStack:function(){return W},default:function(){return M}});var c=d("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js"),i=d("./src/components/Alert/Alert.tsx"),v=d("./src/components/Button/Button.tsx");let s={};function p(o,r,l,S,O,K,q){return r.debug("Initializing Faro"),s={api:K,config:l,instrumentations:q,internalLogger:r,metas:S,pause:O.pause,transports:O,unpatchedConsole:o,unpause:O.unpause},setInternalFaroOnGlobalObject(s),setFaroOnGlobalObject(s),s}var E=d("./src/components/ErrorBoundary/ErrorWithStack.tsx"),u=Object.defineProperty,X=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,F=(o,r,l)=>r in o?u(o,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[r]=l,G=(o,r)=>{for(var l in r||(r={}))H.call(r,l)&&F(o,l,r[l]);if(X)for(var l of X(r))D.call(r,l)&&F(o,l,r[l]);return o};class V extends c.PureComponent{constructor(){super(...arguments),this.state={error:null,errorInfo:null}}componentDidCatch(r,l){var S,O;(O=(S=s)==null?void 0:S.api)==null||O.pushError(r),this.setState({error:r,errorInfo:l}),this.props.onError&&this.props.onError(r)}componentDidUpdate(r){const{dependencies:l,onRecover:S}=this.props;if(this.state.error&&l&&r.dependencies){for(let O=0;O<l.length;O++)if(l[O]!==r.dependencies[O]){this.setState({error:null,errorInfo:null}),S&&S();break}}}render(){const{children:r}=this.props,{error:l,errorInfo:S}=this.state;return r({error:l,errorInfo:S})}}class A extends c.PureComponent{render(){const{title:r,children:l,style:S,dependencies:O}=this.props;return c.createElement(V,{dependencies:O},({error:K,errorInfo:q})=>q?S==="alertbox"?c.createElement(i.b,{title:r||""},c.createElement("details",{style:{whiteSpace:"pre-wrap"}},K&&K.toString(),c.createElement("br",null),q.componentStack)):c.createElement(E.X,{title:r||"",error:K,errorInfo:q}):l)}}A.defaultProps={title:"An unexpected error happened",style:"alertbox"};function P(o,r={}){const l=S=>React.createElement(A,G({},r),React.createElement(o,G({},S)));return l.displayName="WithErrorBoundary",l}try{P.displayName="withErrorBoundary",P.__docgenInfo={description:"HOC for wrapping a component in an error boundary.",displayName:"withErrorBoundary",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/ErrorBoundary/ErrorBoundary.tsx#withErrorBoundary"]={docgenInfo:P.__docgenInfo,name:"withErrorBoundary",path:"src/components/ErrorBoundary/ErrorBoundary.tsx#withErrorBoundary"})}catch{}try{V.displayName="ErrorBoundary",V.__docgenInfo={description:"",displayName:"ErrorBoundary",props:{dependencies:{defaultValue:null,description:"Will re-render children after error if recover values changes",name:"dependencies",required:!1,type:{name:"unknown[]"}},onError:{defaultValue:null,description:"Callback called on error",name:"onError",required:!1,type:{name:"((error: Error) => void)"}},onRecover:{defaultValue:null,description:"Callback error state is cleared due to recover props change",name:"onRecover",required:!1,type:{name:"(() => void)"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/ErrorBoundary/ErrorBoundary.tsx#ErrorBoundary"]={docgenInfo:V.__docgenInfo,name:"ErrorBoundary",path:"src/components/ErrorBoundary/ErrorBoundary.tsx#ErrorBoundary"})}catch{}try{A.displayName="ErrorBoundaryAlert",A.__docgenInfo={description:"",displayName:"ErrorBoundaryAlert",props:{title:{defaultValue:{value:"An unexpected error happened"},description:"Title for the error boundary alert",name:"title",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"Component to be wrapped with an error boundary",name:"children",required:!0,type:{name:"ReactNode"}},style:{defaultValue:{value:"alertbox"},description:"'page' will render full page error with stacktrace. 'alertbox' will render an <Alert />. Default 'alertbox'",name:"style",required:!1,type:{name:"enum",value:[{value:'"page"'},{value:'"alertbox"'}]}},dependencies:{defaultValue:null,description:"Will re-render children after error if recover values changes",name:"dependencies",required:!1,type:{name:"unknown[]"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/ErrorBoundary/ErrorBoundary.tsx#ErrorBoundaryAlert"]={docgenInfo:A.__docgenInfo,name:"ErrorBoundaryAlert",path:"src/components/ErrorBoundary/ErrorBoundary.tsx#ErrorBoundaryAlert"})}catch{}var f=d("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/jsx-runtime.js"),U=d("../../.yarn/__virtual__/@mdx-js-react-virtual-4792127d00/2/yarn/cache/@mdx-js-react-npm-2.3.0-d5582a450b-f45fe77955.zip/node_modules/@mdx-js/react/lib/index.js"),ee=d("../../.yarn/__virtual__/@storybook-blocks-virtual-5605a2f23e/2/yarn/cache/@storybook-blocks-patch-37aea2d782-9f0957019b.zip/node_modules/@storybook/blocks/dist/index.mjs");function g(o){const r=Object.assign({h1:"h1",p:"p",a:"a",h3:"h3",pre:"pre",code:"code"},(0,U.ah)(),o.components);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(r.h1,{id:"errorboundary",children:"ErrorBoundary"}),`
`,(0,f.jsxs)(r.p,{children:["A React component that catches errors in child components. Useful for logging or displaying a fallback UI in case of errors. More information about error boundaries is available at ",(0,f.jsx)(r.a,{href:"https://reactjs.org/docs/error-boundaries.html",target:"_blank",rel:"nofollow noopener noreferrer",children:"React documentation website"}),"."]}),`
`,(0,f.jsx)(r.h3,{id:"usage",children:"Usage"}),`
`,(0,f.jsx)(r.pre,{children:(0,f.jsx)(r.code,{className:"language-jsx",children:`import { ErrorBoundary, Alert } from '@grafana/ui';

<ErrorBoundary>
  {({ error }) => {
    if (error) {
      return <Alert title={error.message} />;
    }
    return <Component />;
  }}
</ErrorBoundary>;
`})}),`
`,(0,f.jsx)(r.h1,{id:"errorboundaryalert",children:"ErrorBoundaryAlert"}),`
`,(0,f.jsx)(r.p,{children:"An error boundary component with built-in alert to display in case of error."}),`
`,(0,f.jsx)(r.h3,{id:"usage-1",children:"Usage"}),`
`,(0,f.jsx)(r.pre,{children:(0,f.jsx)(r.code,{className:"language-jsx",children:`import { ErrorBoundaryAlert } from '@grafana/ui';

<ErrorBoundaryAlert>
  <Component />
</ErrorBoundaryAlert>;
`})}),`
`,(0,f.jsx)(r.h3,{id:"props",children:"Props"}),`
`,(0,f.jsx)(ee.Ed,{of:A}),`
`,(0,f.jsx)(r.h1,{id:"errorwithstack",children:"ErrorWithStack"}),`
`,(0,f.jsx)(r.p,{children:"A component that displays error together with its stack trace."}),`
`,(0,f.jsx)(r.h3,{id:"usage-2",children:"Usage"}),`
`,(0,f.jsx)(r.pre,{children:(0,f.jsx)(r.code,{className:"language-jsx",children:`import { ErrorWithStack } from '@grafana/ui';

<ErrorWithStack error={new Error('Test error')} title={'Unexpected error'} errorInfo={null} />;
`})}),`
`,(0,f.jsx)(r.h3,{id:"props-1",children:"Props"}),`
`,(0,f.jsx)(ee.Ed,{of:E.X}),`
`,(0,f.jsx)(r.h1,{id:"witherrorboundary",children:"withErrorBoundary"}),`
`,(0,f.jsx)(r.p,{children:"a HOC to conveniently wrap component in an error boundary"}),`
`,(0,f.jsx)(r.h3,{id:"usage-3",children:"Usage"}),`
`,(0,f.jsx)(r.pre,{children:(0,f.jsx)(r.code,{className:"language-jsx",children:`import { withErrorBoundary } from '@grafana/ui';

interface MyCompProps {}

const MyComp = withErrorBoundary(
  (props: MyCompProps) => {
    return <>...</>;
  },
  { style: 'page' }
);
`})})]})}function h(o={}){const{wrapper:r}=Object.assign({},(0,U.ah)(),o.components);return r?(0,f.jsx)(r,Object.assign({},o,{children:(0,f.jsx)(g,o)})):g(o)}var y=h,_=Object.defineProperty,Y=Object.defineProperties,J=Object.getOwnPropertyDescriptors,Q=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,re=(o,r,l)=>r in o?_(o,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[r]=l,C=(o,r)=>{for(var l in r||(r={}))k.call(r,l)&&re(o,l,r[l]);if(Q)for(var l of Q(r))z.call(r,l)&&re(o,l,r[l]);return o},e=(o,r)=>Y(o,J(r)),t,a,m,x,R,B,L,b,T;const Z={title:"General/ErrorBoundary",component:V,parameters:{docs:{page:y}}},j=()=>{const[o,r]=(0,c.useState)(0);if(o>2)throw new Error("Crashed");return c.createElement("div",null,c.createElement("p",null,"Increase the count to 3 to trigger error"),c.createElement(v.zx,{onClick:()=>r(o+1)},o.toString()))},I=()=>c.createElement(V,null,({error:o})=>o?c.createElement(i.b,{title:o.message}):c.createElement(j,null)),W=()=>c.createElement(E.X,{error:new Error("Test error"),title:"Unexpected error",errorInfo:null}),N=()=>c.createElement(A,null,c.createElement(j,null));var M=Z;I.parameters=e(C({},I.parameters),{docs:e(C({},(t=I.parameters)==null?void 0:t.docs),{source:C({originalSource:`() => {
  return <ErrorBoundary>
      {({
      error
    }) => {
      if (error) {
        return <Alert title={error.message} />;
      }
      return <BuggyComponent />;
    }}
    </ErrorBoundary>;
}`},(m=(a=I.parameters)==null?void 0:a.docs)==null?void 0:m.source)})}),W.parameters=e(C({},W.parameters),{docs:e(C({},(x=W.parameters)==null?void 0:x.docs),{source:C({originalSource:`() => {
  return <ErrorWithStack error={new Error('Test error')} title={'Unexpected error'} errorInfo={null} />;
}`},(B=(R=W.parameters)==null?void 0:R.docs)==null?void 0:B.source)})}),N.parameters=e(C({},N.parameters),{docs:e(C({},(L=N.parameters)==null?void 0:L.docs),{source:C({originalSource:`() => {
  return <ErrorBoundaryAlert>
      <BuggyComponent />
    </ErrorBoundaryAlert>;
}`},(T=(b=N.parameters)==null?void 0:b.docs)==null?void 0:T.source)})})}}]);
